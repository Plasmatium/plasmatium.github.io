webpackJsonp([1],{gisR:function(t,n){},x35b:function(t,n,e){"use strict";function i(){for(var t=0,n=0;0===t;)t=Math.random();for(;0===n;)n=Math.random();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*n)}function r(t,n){var e=n.x0,i=n.y0,r=n.x1,o=n.y1,a=n.colorInfoArr,s=t.createLinearGradient(e,i,r,o);return a.forEach(function(t,n){var e=t.offset,i=t.color;s.addColorStop(e,i)}),s}function o(t){var n=t.windowH,e=t.windowW;return{x:nt()*e,y:nt()*n}}function a(){var t=10*i();return function(n){return[Math.floor(.5*(et(t+n+0*it/3)+1)*255),Math.floor(.5*(et(t+n+2*it/3)+1)*255),Math.floor(.5*(et(t+n-2*it/3)+1)*255),.382]}}function s(){function t(t,n){if(!n)return void i.unsubscribe();i.next(t)}var n=document.getElementById("fps-present");n||(n=document.createElement("canvas"),n.setAttribute("width","90"),n.setAttribute("height","30"),n.id="fps-present",n.style.position="fixed",n.style.top="0",document.body.appendChild(n));var e=n.getContext("2d");if(!e)throw Error("fps present mask canvas not found");var i=new tt.Subject;i.pairwise().map(function(t){var n=I()(t,2),e=n[0];return n[1]-e}).bufferCount(100,1).scan(function(t,n,e){if(e%33==0){t=(1e5/n.reduce(function(t,n){return t+n},0)).toFixed(1)}return t},"0").subscribe(function(t){e.clearRect(0,0,90,30),e.fillStyle="#444",e.font="16px helvetica, sans",e.fillText("FPS: "+t,10,20)});return i.next(+new Date),t}function u(t,n){var e=t.pos,i=t.dir,r=n.top,o=n.bottom,a=n.left,s=n.right,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{dcx:1,dcy:1},c=arguments[3],h=!1,f=0;e.x<a?(e.x=a,i.vx*=-u.dcx,h=!0,f=.2*Math.abs(i.vx)):e.x>s&&(e.x=s,i.vx*=-u.dcx,h=!0,f=.2*Math.abs(i.vx)),e.y<r?(e.y=r,i.vy*=-u.dcy,h=!0,f=.2*Math.abs(i.vy)):e.y>o&&(e.y=o,i.vy*=-u.dcy,h=!0,f=.2*Math.abs(i.vy)),f>.5&&(f=.5),f<.25&&(f=0),c&&h&&c(f)}function c(t,n){var e=(t.pos,t.dir),i=(n.windowW,n.windowH,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1);e.vy+=i}function h(t){return Math.abs(t)>100?1:Math.abs(t)<.5?0:.01*t}function f(t){var n=t.pos,e=t.dir,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.x+=e.vx,n.y+=e.vy,i&&(e.vx-=h(e.vx),e.vy-=h(e.vy))}function d(t,n){var e=$()(t.vx);t.vx=Math.abs(t.vx)-n<0?0:t.vx-e*n;$()(t.vy);t.vy=Math.abs(t.vy)-n<0?0:t.vy-e*n}function l(t,n,e){var i=t.pos,r=t.dir,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1;if(!(i.y<e)){d(r,n*o)}}function v(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;t.x+=(n.x-t.x)*e,t.y+=(n.y-t.y)*e}function g(){return new ct("#eaeaea")}function x(){var t=new ft,n=t.ctx,e=[{offset:1/6,color:"#f00"},{offset:2/6,color:"#ff0"},{offset:.5,color:"#0f0"},{offset:4/6,color:"#0ff"},{offset:5/6,color:"#00f"},{offset:1,color:"#f0f"}],i={x0:250,y0:150,x1:280,y1:200,colorInfoArr:e},o=r(t.ctx,i);n.fillStyle=o,n.font="60px helvetica,sans",n.fillText("彩虹",200,200);var a=function(n){return n.reduce(function(t,n){return t+n.toString(16)},"#")!==t.bgColor&&Math.random()<.3},s=new rt(n.getImageData(200,150,200,60));t.clrscr(),s.refine(a);for(var u=0;u<s.data.length;u+=2){var c=s.data,h=[c[u],c[u+1]],f=h[0],d=h[1],l=s.getColor({x:f,y:d}),v=new ht({x:50*Math.random()+t.windowW/2,y:20*-Math.random()+t.windowH},{x:2*f+150,y:2*d+150},l,t);t.dots.push(v)}return window.onresize=function(n){var e=n.target;t.canvas.height=e.innerHeight,t.canvas.width=e.innerWidth},t}function w(){var t=new vt;return window.onresize=function(n){var e=n.target;t.canvas.height=e.innerHeight,t.canvas.width=e.innerWidth},t}function p(t,n,e){var i=t.createShader(n);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){var r=String(t.getShaderInfoLog(i));throw t.deleteShader(i),Error(r)}return i}function y(t,n,e){var i=t.createProgram(),r=p(t,t.VERTEX_SHADER,n);t.attachShader(i,r);var o=p(t,t.FRAGMENT_SHADER,e);if(t.attachShader(i,o),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS)){var a=String(t.getProgramInfoLog(i));throw t.deleteProgram(i),Error(a)}return i}function m(t,n,e,i,r){t.bindBuffer(n,e),t.bufferData(n,i,r),t.bindBuffer(n,null)}function _(t,n,e,i,r,o){var a=void 0;if("string"==typeof i){if(!o)throw Error("webgl program should be provided if attr is string");a=t.getAttribLocation(o,i)}else a=i;var s=r.size,u=r.type,c=r.normalize,h=r.stride,f=r.offset;t.bindBuffer(n,e),t.vertexAttribPointer(a,s,u,c,h,f),t.enableVertexAttribArray(a),t.bindBuffer(n,null)}function E(t,n){for(var e=[],i=0;i<2*wt;i+=2*wt/n)e.push(Math.sin(i)*t,Math.cos(i)*t);return e}function T(t,n,e,i){for(var r=[],o=t;o<n;o+=e)r.push(o);return r.map(function(t){return E(t,Math.floor(i))})}function b(t,n){for(var e=[],i=function(t,n){return 1e3*t+n},r=!1,o=0;o<t;o++){var a=o,s=i(a,Number(r));e.push(0,1,s),e.push(0,1,s);for(var u=0;u<=n;u++){var c=2*wt/n*u;r=!1,s=i(a,Number(r)),e.push(1*gt(c),1*xt(c),s),r=!0,s=i(a,Number(r)),e.push(1*gt(c),1*xt(c),s)}r=!0,s=i(a,Number(r)),e.push(0,1,s)}return e}function M(t){if(t>=1)return console.error("f: "+t+" is larger then 1"),[205,205,205,205];for(var n=Math.floor(4294967295*t).toString(16).padStart(8,"0"),e=[],i=0;i<4;i++){var r=Number("0x"+n.slice(2*i,2*i+2));e.push(r)}return e}function k(){var t=T(5,25,.1,32),n=new Et([.97,.96,.93,1],300,32,t);return window.onresize=function(t){var e=t.target;n.canvas.height=e.innerHeight,n.canvas.width=e.innerWidth},n}function R(t){var n=!0,e=!1,i=void 0;try{for(var r,o=Dt()(t);!(n=(r=o.next()).done);n=!0){if(r.value)return!0}}catch(t){e=!0,i=t}finally{try{!n&&o.return&&o.return()}finally{if(e)throw i}}return!1}function D(){var t=new St,n=t.windowH,e=[{offset:0,color:"#eacdae"},{offset:.9,color:"#fefeef"},{offset:.909,color:"#777"},{offset:.91,color:"#eacdae"},{offset:1,color:"#eacdae"}],i={x0:0,y0:0,x1:0,y1:n,colorInfoArr:e};return t.bgColor=r(t.ctx,i),t.addData(),window.onresize=function(n){var e=n.target;t.canvas.height=e.innerHeight,t.canvas.width=e.innerWidth},t}function A(t){return C.a.extend({name:"vue-canvas",computed:{cv:function(){return t()}},mounted:function(){this.cv.run()},destroyed:function(){this.cv.destory()},render:function(){var t=this,n=arguments[0],e=window.innerHeight,i=window.innerWidth,r={position:"fixed",top:0,left:0,"z-index":-1};return n("canvas",{on:{click:function(n){return t.cv.onClick(n)}},attrs:{height:e,width:i},style:r},["canvas is not support"])}})}function P(t){e("gisR")}Object.defineProperty(n,"__esModule",{value:!0});var S={};e.d(S,"colorfulDonut",function(){return D}),e.d(S,"glslTest",function(){return k}),e.d(S,"needleDot",function(){return w}),e.d(S,"textParticle",function(){return x});var C=e("7+uW"),F=e("d7EF"),I=e.n(F),U=e("W3Iv"),B=e.n(U),H=e("/ocq"),W=e("Zx67"),L=e.n(W),N=e("zwoO"),O=e.n(N),X=e("Pf15"),G=e.n(X),z=e("Zrlr"),q=e.n(z),V=e("wxAW"),Y=e.n(V),Z=e("woOf"),j=e.n(Z),J=e("Gu7T"),K=e.n(J),Q=e("2QDH"),$=e.n(Q),tt=e("EEr4"),nt=(e("iIfT"),e("+pb+"),e("+KN+"),e("zJQZ"),e("cDAr"),Math.floor,Math.random),et=Math.sin,it=(Math.cos,Math.tan,Math.PI),rt=function(){function t(n){q()(this,t),this.srcData=n}return Y()(t,[{key:"refine",value:function(t){for(var n=this.srcData,e=n.width,i=n.height,r=new Uint16Array(e*i*2),o=0,a=0;a<e*i;a++){var s=this.srcData.data,u=4*a;if(t([s[u],s[u+1],s[u+2],s[u+3]])){var c=a%e,h=a/e;r[o]=c,r[o+1]=h,o+=2}}this.data=r.subarray(0,2*o)}},{key:"getColor",value:function(t){var n=t.x,e=t.y,i=4*(e*this.width+n),r=this.srcData.data;return[r[i],r[i+1],r[i+2],r[i+3]]}},{key:"width",get:function(){return this.srcData.width}},{key:"height",get:function(){return this.srcData.height}}]),t}(),ot=Math.random,at=Math.sin,st=Math.PI,ut=function(){function t(n){var e=this;q()(this,t),this.bgColor=n,this.isRunning=!1;var i=document.getElementsByTagName("canvas")[0];if(!i)throw Error("canvas not found.");this.canvas=i;var r=i.getContext("2d");if(!r)throw Error("context not found.");this.ctx=r,this.renderMask=[s()],window.onresize=function(t){var n=t.target;e.canvas.height=n.innerHeight,e.canvas.width=n.innerWidth}}return Y()(t,[{key:"clrscr",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=t.bgColor,e=(t.canvas,t.ctx),i=t.windowH,r=t.windowW;t.data;e.fillStyle=n,e.fillRect(0,0,r,i)}},{key:"render",value:function(t){var n=this;this.isRunning&&window.requestAnimationFrame(function(t){n.render(t)}),this.clrscr(),this.renderMain(this),this.renderMask.forEach(function(e){e(t,n.isRunning)})}},{key:"run",value:function(){var t=this;this.isRunning=!0,window.requestAnimationFrame(function(n){t.render(n)})}},{key:"destory",value:function(){this.isRunning=!1}},{key:"onClick",value:function(t){t.preventDefault()}},{key:"windowH",get:function(){return this.canvas.height}},{key:"windowW",get:function(){return this.canvas.width}}]),t}(),ct=function(t){function n(t){q()(this,n);var e=O()(this,(n.__proto__||L()(n)).call(this,t));e.bgColor=t,e.step=0,e.waveStep=0,e.ribbonMoving=!1;var i=e.windowH,r=2*ot(),o=[1,2,3,4,5].map(function(t){return.618*Math.pow(t,1.618)});return e.curves=[1].concat(K()(o)).map(function(t){var n=void 0;n=1===t?.1*i/t:.2*i/t;var e=function(e){return n*at(t*(2*st*e*4e-4+r))};return j()(e,{color:a()}),e}),setTimeout(function(){e.ribbonMoving=!0},1500),e}return G()(n,t),Y()(n,[{key:"clrscr",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n=t.bgColor,e=(t.canvas,t.ctx),i=t.windowH,r=t.windowW;t.data;e.fillStyle=n,e.fillRect(0,0,r,i)}},{key:"renderMain",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=(n.canvas,n.ctx),i=n.windowH,r=n.windowW,o=(n.data,this.curves[0]);if(this.curves.forEach(function(n,a){var s=void 0,u=void 0,c=void 0,h=void 0,f=void 0;a%2==0?(s=-1e4,u=1e4,c=0,h=r,f=function(t){return t+1}):(s=1e4,u=-1e4,c=r,h=0,f=function(t){return t-1}),a%2==0&&(e.beginPath(),e.moveTo(s,i/2));for(var d=c;d!=h;d=f(d))e.lineTo(d,o(d+d*t.waveStep)+n(d-d*t.waveStep)+.2*i);if(e.lineTo(u,i/2),a%2!=0){var l=n.color(t.step);e.fillStyle="rgba("+l+")",e.lineTo(u,i/2),e.closePath(),e.fill()}}),this.ribbonMoving){this.step+=.001;var a=18*this.step;this.waveStep+=Math.pow(Math.E,3*-a)*Math.pow(.6*a,2)}}}]),n}(ut),ht=function(){function t(n,e,i,r){q()(this,t),this.pos=n,this.destPos=e,this.color=i,this.cv=r,this.free=!1}return Y()(t,[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cv,n=t.ctx,e=this.pos,i=e.x,r=e.y;n.fillStyle="rgba("+this.color+")",n.fillRect(i,r,3,3)}},{key:"move",value:function(){if(this.free){v(this.pos,this.destPos,.05)}}}]),t}(),ft=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#feefed";q()(this,n);var e=O()(this,(n.__proto__||L()(n)).call(this,t));return e.bgColor=t,e.dots=[],e}return G()(n,t),Y()(n,[{key:"renderMain",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;t.canvas,t.ctx,t.windowH,t.windowW,t.data;this.dots&&this.dots.forEach(function(t){t.draw(),t.move()})}},{key:"onClick",value:function(t){this.dots.forEach(function(t){setTimeout(function(){return t.free=!t.free},6e4*Math.random())})}}]),n}(ut),dt=function(){return Math.random()},lt=function(){function t(n,e,i,r){q()(this,t),this.pos=n,this.r=e,this.color=i,this.cv=r,this.dir={vx:2*dt()-1,vy:2*dt()-1}}return Y()(t,[{key:"mutate",value:function(){f(this);var t=this.cv,n=t.windowW;u(this,{top:0,bottom:t.windowH,left:0,right:n})}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cv,n=t.ctx,e=(t.canvas,this.pos),i=e.x,r=e.y,o=this.r;n.fillStyle="rgba("+this.color+")",n.beginPath(),n.arc(i,r,o,0,2*Math.PI),n.closePath(),n.fill()}}]),t}(),vt=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#eaeaea";q()(this,n);var e=O()(this,(n.__proto__||L()(n)).call(this,t));return e.createDots(),e}return G()(n,t),Y()(n,[{key:"createDots",value:function(){for(var t=Math.floor(150*this.windowH*this.windowW/2073600),n=this.data=new Array(t),e=0;e<t;e++){var i=o(this);n[e]=new lt(i,1.62,[172,189,206,.62],this)}}},{key:"renderMain",value:function(t){var n=this,e=(t.canvas,t.ctx),i=t.windowH,r=t.windowW,o=(t.data,22*Math.sqrt(.618*r*i/Math.PI));e.lineWidth=.3,this.data.forEach(function(t,i){n.data.slice(i+1).forEach(function(n){var i=Math.pow(t.pos.x-n.pos.x,2)+Math.pow(t.pos.y-n.pos.y,2),r=1-i/o;r<0||(e.beginPath(),e.moveTo(t.pos.x,t.pos.y),e.lineTo(n.pos.x,n.pos.y),e.closePath(),e.strokeStyle="rgba(50, 128, 255, "+r+")",e.stroke())}),t.draw(),t.mutate()})}}]),n}(ut),gt=(Math.random,Math.round,Math.floor,Math.sin),xt=Math.cos,wt=Math.PI,pt=function(){function t(){q()(this,t),this.program=null,this.isRunning=!1;var n=document.getElementsByTagName("canvas")[0];if(!n)throw Error("canvas not found");var e=n.getContext("webgl",{alpha:!1});if(!e)throw Error("get webgl context failed");this.canvas=n,this.gl=e,this.renderMask=[s()]}return Y()(t,[{key:"render",value:function(t){var n=this;this.isRunning&&window.requestAnimationFrame(function(t){n.render(t)}),this.renderMain(t),this.renderMask.forEach(function(e){e(t,n.isRunning)})}},{key:"run",value:function(){var t=this;this.isRunning=!0,window.requestAnimationFrame(function(n){return t.render(n)})}},{key:"destory",value:function(){this.isRunning=!1}},{key:"onClick",value:function(t){}},{key:"windowW",get:function(){return this.canvas.width}},{key:"windowH",get:function(){return this.canvas.height}}]),t}(),yt=(function(){function t(){q()(this,t),this.idx=0}Y()(t,[{key:"resetIdx",value:function(){this.idx=0}},{key:"currIdx",value:function(){return this.idx}},{key:"pullIdx",value:function(){return this.idx++}}])}(),function(){function t(n,e,i,r,o){q()(this,t),this.gl=n,this.width=e,this.height=i,this.dataType=r,this.u_control_loc=o,this.texPing=n.createTexture(),this.texPong=n.createTexture(),this.frameBuffer=n.createFramebuffer()}Y()(t,[{key:"initData",value:function(t,n){var e=this.gl;e.bindTexture(e.TEXTURE_2D,n),this.dataType===e.FLOAT&&(e.getExtension("OES_texture_float"),e.getExtension("OES_texture_float_linear")),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,this.dataType,t)}},{key:"initPing",value:function(t){this.initData(t,this.texPing)}},{key:"initPong",value:function(){this.initData(null,this.texPong)}},{key:"enablePing",value:function(){var t=this.gl,n=this.texPing;t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,n),t.uniform1i(this.u_control_loc,0)}},{key:"enablePong",value:function(){var t=this.gl,n=this.texPong,e=this.texPing,i=this.frameBuffer;t.bindFramebuffer(t.FRAMEBUFFER,i),t.bindTexture(t.TEXTURE_2D,e);var r=t.COLOR_ATTACHMENT0;t.framebufferTexture2D(t.FRAMEBUFFER,r,t.TEXTURE_2D,n,0)}},{key:"swapPingPong",value:function(){var t=this.texPing;this.texPing=this.texPong,this.texPong=t}},{key:"readTexture",value:function(t){var n=this.gl,e=this.texPing,i=this.texPong,r=this.frameBuffer,o=t?e:i;n.bindFramebuffer(n.FRAMEBUFFER,r);var a=n.COLOR_ATTACHMENT0;n.framebufferTexture2D(n.FRAMEBUFFER,a,n.TEXTURE_2D,o,0);var s=new Uint8Array(4*this.width);n.readPixels(0,0,this.width,1,n.RGBA,n.UNSIGNED_BYTE,s),s.reduce(function(t,n,e){return e%4==3?(console.log([].concat(K()(t),[n])),[]):[].concat(K()(t),[n])},[])}}])}(),"\nuniform vec2 u_resolution;\nuniform float u_totalCount;\nuniform sampler2D u_texData;\n\nfloat vec4ToFloat (vec4 arr);\n\n// a_position.z is index\nattribute vec3 a_position;\n\nvarying vec4 v_color;\nvarying float distance_ratio;\n\nvoid main() {\n  float largeIdx, minorIdx;\n  minorIdx = mod(a_position.z, 1000.0);\n  largeIdx = floor(a_position.z / 1000.0);\n  float idx;\n  vec4 texData;\n\n  // fetch color\n  idx = largeIdx / u_totalCount;\n  v_color = texture2DLod(u_texData, vec2(idx, 0.5), 1.0);\n\n  // fetch innerR or outerR\n  idx = (largeIdx * 5.0 + 1.0 + minorIdx) / (u_totalCount * 5.0);\n  texData = texture2DLod(u_texData, vec2(idx, 0.5), 1.0);\n  float radius = 100.0 * vec4ToFloat(texData);\n  vec4 position = vec4(a_position.xy * radius, 0, 1);\n  distance_ratio = sqrt(dot(position.xy, position.xy)) / 50.0;\n\n  // fetch posX and posY\n  vec2 mov;\n  idx = (largeIdx * 5.0 + 3.0) / (u_totalCount * 5.0);\n  texData = texture2DLod(u_texData, vec2(idx, 0.5), 1.0);\n  mov.x = vec4ToFloat(texData);\n\n  idx = (largeIdx * 5.0 + 4.0) / (u_totalCount * 5.0);\n  texData = texture2DLod(u_texData, vec2(idx, 0.5), 1.0);\n  mov.y = vec4ToFloat(texData);\n\n  mov = mov * u_resolution;\n  mat4 movMat = mat4(\n    1, 0, 0, 0,\n    0, 1, 0, 0,\n    0, 0, 1, 0,\n    mov, 0, 1\n  );\n  position = movMat * position;\n\n  // window clip transform\n  vec2 clip = position.xy / u_resolution * 2.0 - 1.0;\n  gl_Position = vec4(clip, 0, 1);\n}\n\nfloat vec4ToFloat (vec4 arr) {\n  vec4 co = vec4(1.0, 1.0/256.0, 1.0/65536.0, 1.0/16777216.0);\n  return dot(arr, co);\n}\n"),mt="\nprecision mediump float;\nvarying vec4 v_color;\nvarying float distance_ratio;\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= 1.0 - distance_ratio * 1.75;\n}\n",_t=Math.random,Et=function(t){function n(t,e,i,r){q()(this,n);var o=O()(this,(n.__proto__||L()(n)).call(this));o.bgColor=t,o.count=e,o.precision=i,o.circleList=r;var a=o.windowW,s=o.windowH,u=o.gl;o.genBase(),o.genTexData(),console.log(o.texData),o.program=y(u,yt,mt),u.useProgram(o.program);var c=u.createBuffer(),h={size:3,type:u.FLOAT,normalize:!1,stride:0,offset:0};m(u,u.ARRAY_BUFFER,c,o.baseVertices,u.STATIC_DRAW),_(u,u.ARRAY_BUFFER,c,"a_position",h,o.program),o.dataTexture=u.createTexture(),u.bindTexture(u.TEXTURE_2D,o.dataTexture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.enable(u.BLEND),u.blendEquation(u.FUNC_ADD),u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA);var f=u.getUniformLocation(o.program,"u_resolution"),d=u.getUniformLocation(o.program,"u_totalCount");return u.uniform2f(f,a,s),u.uniform1f(d,o.count),o.genBase(),o}return G()(n,t),Y()(n,[{key:"genBase",value:function(){this.baseVertices=new Float32Array(b(this.count,32))}},{key:"genTexData",value:function(){for(var t=[],n=0;n<this.count;n++){t.push(255*_t(),255*_t(),255*_t(),255);var e=5+10*_t(),i=e+25*_t();t.push.apply(t,K()(M(e/100))),t.push.apply(t,K()(M(i/100))),t.push.apply(t,K()(M(_t()))),t.push.apply(t,K()(M(_t())))}this.texData=new Uint8Array(t)}},{key:"mutate",value:function(){}},{key:"renderMain",value:function(t){var n=this.gl,e=this.bgColor,i=this.windowW,r=this.windowH,o=I()(e,4),a=o[0],s=o[1],u=o[2],c=o[3];n.texImage2D(n.TEXTURE_2D,0,n.RGBA,this.texData.length/4,1,0,n.RGBA,n.UNSIGNED_BYTE,this.texData),n.enable(n.BLEND),n.viewport(0,0,i,r),n.clearColor(a,s,u,c),n.clear(n.COLOR_BUFFER_BIT),n.drawArrays(n.TRIANGLE_STRIP,0,this.baseVertices.length/3),this.mutate()}}]),n}(pt),Tt=e("lHA8"),bt=e.n(Tt),Mt=e("yEsh"),kt=e.n(Mt),Rt=e("BO1k"),Dt=e.n(Rt),At=[-9,-7,-5,-2,0,3,5,7,10,12],Pt=function(){function t(n,e,i,r,o,a,s){q()(this,t),this.pos=n,this.dir=e,this.r=i,this.thickness=r,this.color=o,this.cv=a,this.actx=s,this.isSlow=!1,this.isDead=!1;var u=Math.round(8*Math.random()),c=At[u];this.amp=this.actx.createGain(),this.osc=this.actx.createOscillator(),this.amp.gain.value=0,this.osc.detune.value=100*c,this.osc.connect(this.amp),this.amp.connect(this.actx.destination),this.osc.start(this.actx.currentTime),this.osc.stop(this.actx.currentTime+10)}return Y()(t,[{key:"mutate",value:function(){this.pos,this.dir;c(this,this.cv),f(this,!0);var t=this.cv,n=t.windowW,e=t.windowH,i=void 0;i=this.isSlow?e:.9*e,u(this,{top:-1/0,bottom:i,left:0,right:n},{dcx:.8,dcy:.8},this.makeSound.bind(this)),l(this,.05*this.r,i),this.fade()}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cv,n=t.ctx,e=(t.canvas,this.pos),i=e.x,r=e.y,o=this.r,a=this.thickness;n.strokeStyle="rgba("+this.color+")",n.lineWidth=a,n.beginPath(),n.arc(i,r,o,0,2*Math.PI),n.closePath(),n.stroke(),this.mutate()}},{key:"markIfSlow",value:function(){var t=this.dir,n=t.vx,e=t.vy;Math.abs(n)<.5&&Math.abs(e)<.5&&(this.isSlow=!0)}},{key:"fade",value:function(){if(!this.isSlow)return void this.markIfSlow();var t=I()(this.color,4),n=t[0],e=t[1],i=t[2],r=t[3];r<1/255&&(this.isDead=!0),this.color=[n,e,i,.9*r]}},{key:"makeSound",value:function(t){var n=this.actx;this.cv;if(n.destination){var e=n.currentTime,i=.2*this.color[3]*t*t;this.amp.gain.setTargetAtTime(i,e,.01),this.amp.gain.setTargetAtTime(0,e+.1,.062)}}}]),t}(),St=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#eacdae";q()(this,n);var e=O()(this,(n.__proto__||L()(n)).call(this,t));e.bgColor=t,e.data=new bt.a;var i=window.AudioContext||window.webkitAudioContext;if(!i)throw Error("web audio api not supported");return e.actx=new i,e}return G()(n,t),Y()(n,[{key:"renderMain",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;n.canvas,n.ctx,n.windowH,n.windowW,n.data;this.data.forEach(function(n){if(!R(n))return void t.data.delete(n);n.forEach(function(t,e){if(t)return t.isDead?void delete n[e]:void t.draw()})})}},{key:"addData",value:function(t,n){for(var e=this.windowH,r=this.windowW,o=e*r/2073600*15,a=[],s=0;s<o;s++){for(var u=[255,255,255].map(function(t){return Math.floor(t*Math.random())}),c=0;c<5;)c=Math.abs(7*i())+3;a.push(new Pt({x:t||r/2,y:n||.618*e},{vx:10*i(),vy:-Math.abs(25*i())},c,Math.abs(3.1*i()+3.1),[].concat(K()(u),[1]),this,this.actx))}this.data.add(a)}},{key:"onClick",value:function(t){kt()(n.prototype.__proto__||L()(n.prototype),"onClick",this).call(this,t);var e=t.x,i=t.y;this.addData(e,i)}},{key:"destory",value:function(){kt()(n.prototype.__proto__||L()(n.prototype),"destory",this).call(this),this.actx.close()}}]),n}(ut),Ct=[],Ft=B()(S).map(function(t){var n=I()(t,2),e=n[0],i=n[1],r="/"+e,o=A(i);return Ct.push(e),{path:r,component:o}});Ft.push({path:"/",component:A(g)});var It=new H.a({routes:Ft,mode:"history"});C.a.use(H.a);var Ut=C.a.extend({name:"app",data:function(){return{links:Ct}},router:It}),Bt=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"menu-container"},t._l(t.links,function(n){return e("router-link",{key:n,staticClass:"script-link",attrs:{to:n}},[e("span",[t._v(t._s(n))])])})),t._v(" "),e("router-view")],1)},Ht=[],Wt={render:Bt,staticRenderFns:Ht},Lt=Wt,Nt=e("VU/8"),Ot=P,Xt=Nt(Ut,Lt,!1,Ot,null,null),Gt=Xt.exports,zt=e("v5o6");document.addEventListener("DOMContentLoaded",function(){zt.attach(document.body)},!1),C.a.config.productionTip=!1,new C.a({el:"#app",template:"<App/>",components:{App:Gt}})}},["x35b"]);
//# sourceMappingURL=app.4617093166eef449e9ca.js.map