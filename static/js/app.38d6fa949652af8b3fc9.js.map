{"version":3,"sources":["webpack:///static/js/app.38d6fa949652af8b3fc9.js","webpack:///./src/collection/utils/others.ts","webpack:///./src/collection/utils/Canvas.ts","webpack:///./src/collection/textParticle.ts","webpack:///./src/collection/needleDot.ts","webpack:///./src/collection/utils/WebGL.ts","webpack:///./src/collection/glslTest.ts","webpack:///./src/collection/colorfulDonut.ts","webpack:///./src/components/vue-canvas.tsx","webpack:///./src/App.ts.vue","webpack:///./src/router.ts","webpack:///./src/App.ts.vue?c5a9","webpack:///./src/App.ts.vue?7225","webpack:///./src/main.ts"],"names":["webpackJsonp","bsQ0","module","exports","x35b","__webpack_exports__","__webpack_require__","randn_bm","u","v","Math","random","sqrt","log","cos","PI","makeLinearGradient","ctx","_ref","x0","y0","x1","y1","colorInfoArr","gradient","createLinearGradient","forEach","colorInfo","idx","offset","color","addColorStop","randPos","_ref2","windowH","windowW","x","y","makeRandomColorful","rand","console","step","floor","sin","showFPS2","fpsEmitter","timestemp","emitter","next","fpsMask","document","getElementById","createElement","setAttribute","id","style","position","top","body","appendChild","getContext","Error","Subject","timeout","pairwise","map","_ref3","_ref4","slicedToArray_default","prev","bufferCount","scan","presentFPS","fpsArr","reduce","sum","d","toFixed","subscribe","fps","clearRect","fillStyle","font","fillText","error","err","unsubscribe","Date","rebound","_ref6","_ref7","pos","dir","bottom","left","right","decay","arguments","length","undefined","dcx","dcy","vx","vy","applyGravity","_ref10","_ref11","g","calcDamping","abs","others_move","_ref12","damping","applyFriction","a","signx","sign_default","earthFricion","_ref13","m","horizon","k","slide","dest","defaultCanvas","Canvas_DefaultCanvas","textParticle","cv","textParticle_TextParticle","gradientOption","textColor","filter","s","c","toString","bgColor","refinedData","others_RefinedImageData","getImageData","clrscr","refine","i","data","getColor","dot","textParticle_Dot","dots","push","window","onresize","e","target","canvas","height","innerHeight","width","innerWidth","needleDot","needleDot_NeedleDotCanvas","generateGLShader","gl","type","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","errString","String","getShaderInfoLog","deleteShader","generateGLProgram","vsSrc","fsSrc","program","createProgram","vertexShader","VERTEX_SHADER","attachShader","fragmentShader","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","jsArr2gRam","buffer","usage","bindBuffer","bufferData","gRam2ShaderAttr","attr","pointerConfig","attrIdx","getAttribLocation","size","normalize","stride","vertexAttribPointer","enableVertexAttribArray","glslTest","scene","glslTest_GLDots","isValid","arr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","done","value","return","colorfulDonut","colorfulDonut_ColorfulDonut","addData","makeCanvas","script","vue_esm","extend","name","computed","mounted","this","run","destroyed","destory","render","_this","h","z-index","on","click","onClick","attrs","injectStyle","ssrContext","Object","defineProperty","collection_namespaceObject","slicedToArray","n","entries","entries_default","vue_router_esm","get_prototype_of","get_prototype_of_default","possibleConstructorReturn","possibleConstructorReturn_default","inherits","inherits_default","classCallCheck","classCallCheck_default","createClass","createClass_default","object_assign","assign_default","toConsumableArray","toConsumableArray_default","sign","tan","RefinedImageData","srcData","key","_srcData","rawRet","Uint16Array","validLength","subarray","_ref5","get","Canvas_random","Canvas_sin","Canvas_PI","Canvas_Canvas","Canvas","isRunning","getElementsByTagName","renderMask","fillRect","timestamp","renderMain","mask","requestAnimationFrame","bind","_Canvas","DefaultCanvas","_this2","__proto__","call","waveStep","ribbonMoving","phase","order","pow","curves","concat","amp","ret","setTimeout","_this3","base","func","veryStart","veryEnd","start","end","beginPath","moveTo","lineTo","closePath","fill","E","Dot","destPos","free","_pos","TextParticle","draw","move","needleDot_random","needleDot_Dot","r","_cv","arc","NeedleDotCanvas","createDots","count","Array","dThreshold","lineWidth","slice","anotherDot","dsqr","strokeStyle","stroke","mutate","WebGL_GLScene","GLScene","programs","glslTest_random","_GLScene","GLDots","dotsData","_this$dotsData","rand3","_ignore","apply","_bgColor","b","u_resolutionLoc","getUniformLocation","positionsBuffer","createBuffer","FLOAT","Float32Array","ARRAY_BUFFER","STATIC_DRAW","viewport","useProgram","uniform2f","clearColor","clear","COLOR_BUFFER_BIT","drawArrays","TRIANGLES","set","set_default","get_iterator","colorfulDonut_Donut","Donut","thickness","isSlow","isDead","Infinity","fade","_dir","markIfSlow","_color","ColorfulDonut","dataGroup","delete","donut","randColor","add","links","routes","scriptName","path","component","router","mode","use","App_ts","_vm","_h","$createElement","_c","_self","staticClass","_l","link","to","_v","_s","staticRenderFns","esExports","selectortype_template_index_0_src_App_ts","normalizeComponent","__vue_styles__","Component","src_App_ts","config","productionTip","el","template","components","App"],"mappings":"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","file":"static/js/app.38d6fa949652af8b3fc9.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"bsQ0\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"x35b\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nvar collection_namespaceObject = {};\n__webpack_require__.d(collection_namespaceObject, \"colorfulDonut\", function() { return colorfulDonut; });\n__webpack_require__.d(collection_namespaceObject, \"glslTest\", function() { return glslTest; });\n__webpack_require__.d(collection_namespaceObject, \"needleDot\", function() { return needleDot; });\n__webpack_require__.d(collection_namespaceObject, \"textParticle\", function() { return textParticle; });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/slicedToArray.js\nvar slicedToArray = __webpack_require__(\"d7EF\");\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/entries.js\nvar entries = __webpack_require__(\"W3Iv\");\nvar entries_default = /*#__PURE__*/__webpack_require__.n(entries);\n\n// EXTERNAL MODULE: ./node_modules/vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"/ocq\");\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/get-prototype-of.js\nvar get_prototype_of = __webpack_require__(\"Zx67\");\nvar get_prototype_of_default = /*#__PURE__*/__webpack_require__.n(get_prototype_of);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/possibleConstructorReturn.js\nvar possibleConstructorReturn = __webpack_require__(\"zwoO\");\nvar possibleConstructorReturn_default = /*#__PURE__*/__webpack_require__.n(possibleConstructorReturn);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/inherits.js\nvar inherits = __webpack_require__(\"Pf15\");\nvar inherits_default = /*#__PURE__*/__webpack_require__.n(inherits);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"Zrlr\");\nvar classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/createClass.js\nvar createClass = __webpack_require__(\"wxAW\");\nvar createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/assign.js\nvar object_assign = __webpack_require__(\"woOf\");\nvar assign_default = /*#__PURE__*/__webpack_require__.n(object_assign);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/toConsumableArray.js\nvar toConsumableArray = __webpack_require__(\"Gu7T\");\nvar toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/math/sign.js\nvar sign = __webpack_require__(\"2QDH\");\nvar sign_default = /*#__PURE__*/__webpack_require__.n(sign);\n\n// EXTERNAL MODULE: ./node_modules/rxjs/Subject.js\nvar Subject = __webpack_require__(\"EEr4\");\nvar Subject_default = /*#__PURE__*/__webpack_require__.n(Subject);\n\n// EXTERNAL MODULE: ./node_modules/rxjs/add/operator/pairwise.js\nvar pairwise = __webpack_require__(\"iIfT\");\nvar pairwise_default = /*#__PURE__*/__webpack_require__.n(pairwise);\n\n// EXTERNAL MODULE: ./node_modules/rxjs/add/operator/map.js\nvar map = __webpack_require__(\"+pb+\");\nvar map_default = /*#__PURE__*/__webpack_require__.n(map);\n\n// EXTERNAL MODULE: ./node_modules/rxjs/add/operator/bufferCount.js\nvar bufferCount = __webpack_require__(\"+KN+\");\nvar bufferCount_default = /*#__PURE__*/__webpack_require__.n(bufferCount);\n\n// EXTERNAL MODULE: ./node_modules/rxjs/add/operator/scan.js\nvar scan = __webpack_require__(\"zJQZ\");\nvar scan_default = /*#__PURE__*/__webpack_require__.n(scan);\n\n// EXTERNAL MODULE: ./node_modules/rxjs/add/operator/timeout.js\nvar timeout = __webpack_require__(\"cDAr\");\nvar timeout_default = /*#__PURE__*/__webpack_require__.n(timeout);\n\n// CONCATENATED MODULE: ./src/collection/utils/others.ts\n\n\n\n\n\n\n\n\n\n\nvar floor = Math.floor,\n    random = Math.random,\n    sin = Math.sin,\n    cos = Math.cos,\n    tan = Math.tan,\n    PI = Math.PI;\n// Standard Normal variate using Box-Muller transform.\n// ref: https://stackoverflow.com/questions/25582882/javascript-math-random-normal-distribution-gaussian-bell-curve\n\nfunction randn_bm() {\n    var u = 0,\n        v = 0;\n    //Converting [0,1) to (0,1)\n    while (u === 0) {\n        u = Math.random();\n    }while (v === 0) {\n        v = Math.random();\n    }return Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);\n}\nfunction makeLinearGradient(ctx, _ref) {\n    var x0 = _ref.x0,\n        y0 = _ref.y0,\n        x1 = _ref.x1,\n        y1 = _ref.y1,\n        colorInfoArr = _ref.colorInfoArr;\n\n    var gradient = ctx.createLinearGradient(x0, y0, x1, y1);\n    colorInfoArr.forEach(function (colorInfo, idx) {\n        var offset = colorInfo.offset,\n            color = colorInfo.color;\n\n        gradient.addColorStop(offset, color);\n    });\n    return gradient;\n}\nfunction randPos(_ref2) {\n    var windowH = _ref2.windowH,\n        windowW = _ref2.windowW;\n\n    var x = random() * windowW;\n    var y = random() * windowH;\n    return { x: x, y: y };\n}\nfunction others_randColor() {\n    return [0xff, 0xff, 0xff, 1].map(function (v) {\n        var ret = random() * v;\n        return ret <= 1 ? ret : floor(ret);\n    });\n}\nfunction makeRandomColorful() {\n    // controls the color in range [0.382, 0.618]\n    var rand = randn_bm() * 10;\n    console.log(rand);\n    return function (step) {\n        var r = Math.floor(0xff * ((sin(rand + step + 0 * PI / 3) + 1) * 0.5));\n        var g = Math.floor(0xff * ((sin(rand + step + 2 * PI / 3) + 1) * 0.5));\n        var b = Math.floor(0xff * ((sin(rand + step - 2 * PI / 3) + 1) * 0.5));\n        var a = 0.382;\n        return [r, g, b, a];\n    };\n}\nfunction showFPS(ctx) {\n    var prevTime = new Date().getTime();\n    var count = 0;\n    var fps = '0';\n    function renderFPS() {\n        count++;\n        ctx.fillStyle = 'green';\n        ctx.font = '12px helvetica, sans';\n        if (count !== 100) {\n            ctx.fillText('FPS: ' + fps, 10, 20);\n            return;\n        }\n        count = 0;\n        // 100 frames rendered\n        var currTime = new Date().getTime();\n        var diffTime = (currTime - prevTime) / 1000;\n        prevTime = currTime;\n        fps = (100 / diffTime).toFixed(1);\n        ctx.fillText('FPS: ' + fps, 10, 20);\n    }\n    return renderFPS;\n}\nfunction showFPS2() {\n    var fpsMask = document.getElementById('fps-present');\n    if (!fpsMask) {\n        fpsMask = document.createElement('canvas');\n        fpsMask.setAttribute('width', '80');\n        fpsMask.setAttribute('height', '30');\n        fpsMask.id = 'fps-present';\n        fpsMask.style.position = 'fixed';\n        fpsMask.style.top = '0';\n        document.body.appendChild(fpsMask);\n    }\n    var ctx = fpsMask.getContext('2d');\n    if (!ctx) throw Error('fps present mask canvas not found');\n    var emitter = new Subject[\"Subject\"]();\n    var fpsSubscription = emitter.timeout(5000) // close emitter and do clean staff if no data in 5sec\n    .pairwise().map(function (_ref3) {\n        var _ref4 = slicedToArray_default()(_ref3, 2),\n            prev = _ref4[0],\n            curr = _ref4[1];\n\n        return curr - prev;\n    }).bufferCount(100, 1).scan(function (presentFPS, fpsArr, idx) {\n        if (idx % 33 === 0) {\n            var timeCost = fpsArr.reduce(function (sum, d) {\n                return sum + d;\n            }, 0);\n            var fps = (100 * 1000 / timeCost).toFixed(1);\n            presentFPS = fps;\n        }\n        return presentFPS;\n    }, '0').subscribe({\n        next: function next(fps) {\n            ctx.clearRect(0, 0, 80, 30);\n            ctx.fillStyle = '#444';\n            ctx.font = '16px helvetica, sans';\n            ctx.fillText('FPS: ' + fps, 10, 20);\n        },\n        error: function error(err) {\n            // fpsSubscription was auto unscubscribed when timeout trigger error\n            emitter.unsubscribe();\n        }\n    });\n    emitter.next(+new Date());\n    function fpsEmitter(timestemp) {\n        emitter.next(timestemp);\n    }\n    return fpsEmitter;\n}\nvar others_RefinedImageData = function () {\n    function RefinedImageData(srcData) {\n        classCallCheck_default()(this, RefinedImageData);\n\n        this.srcData = srcData;\n    }\n\n    createClass_default()(RefinedImageData, [{\n        key: 'refine',\n        value: function refine(filter) {\n            var _srcData = this.srcData,\n                width = _srcData.width,\n                height = _srcData.height;\n\n            var rawRet = new Uint16Array(width * height * 2);\n            var validLength = 0;\n            for (var i = 0; i < width * height; i++) {\n                // let color = this.srcData.data.subarray(i*4, i*4 + 4)\n                var d = this.srcData.data;\n                var idx = i * 4;\n                var color = [d[idx], d[idx + 1], d[idx + 2], d[idx + 3]];\n                if (!filter(color)) {\n                    continue;\n                }\n                // debugger\n                var x = i % width;\n                var y = i / width;\n                // subarray is very very slow\n                // rawRet.subarray(validLength, validLength+2).set([x, y])\n                rawRet[validLength] = x;\n                rawRet[validLength + 1] = y;\n                validLength += 2;\n            }\n            this.data = rawRet.subarray(0, validLength * 2);\n        }\n    }, {\n        key: 'getColor',\n        value: function getColor(_ref5) {\n            var x = _ref5.x,\n                y = _ref5.y;\n\n            var idx = 4 * (y * this.width + x);\n            var d = this.srcData.data;\n            var color = [d[idx], d[idx + 1], d[idx + 2], d[idx + 3]];\n            return color;\n        }\n    }, {\n        key: 'width',\n        get: function get() {\n            return this.srcData.width;\n        }\n    }, {\n        key: 'height',\n        get: function get() {\n            return this.srcData.height;\n        }\n    }]);\n\n    return RefinedImageData;\n}();\n// use typed array stands for a batch of dots,\n// properties on a dot: [color, pos, dir, acc] share memory\nvar others_BufferDots = function BufferDots(count) {\n    classCallCheck_default()(this, BufferDots);\n\n    this.count = count;\n    this.buffer = new Uint32Array(count * 9);\n};\n// -------physical-----------\nfunction rebound(_ref6, _ref7) {\n    var pos = _ref6.pos,\n        dir = _ref6.dir;\n    var top = _ref7.top,\n        bottom = _ref7.bottom,\n        left = _ref7.left,\n        right = _ref7.right;\n    var decay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { dcx: 1, dcy: 1 };\n\n    if (pos.x < left) {\n        pos.x = left;\n        dir.vx *= -decay.dcx;\n    } else if (pos.x > right) {\n        pos.x = right;\n        dir.vx *= -decay.dcx;\n    }\n    if (pos.y < top) {\n        pos.y = top;\n        dir.vy *= -decay.dcy;\n    } else if (pos.y > bottom) {\n        pos.y = bottom;\n        dir.vy *= -decay.dcy;\n    }\n}\nfunction distortRoute(_ref8, _ref9) {\n    var pos = _ref8.pos,\n        dir = _ref8.dir;\n    var windowH = _ref9.windowH,\n        windowW = _ref9.windowW;\n\n    var randx = Infinity;\n    var randy = Infinity;\n    // make random in (-10, 10)\n    while (Math.abs(randx) > 10) {\n        randx = randn_bm();\n    }while (Math.abs(randy) > 10) {\n        randy = randn_bm();\n    }dir.vx += randx * 0.01;\n    dir.vy += randy * 0.01;\n}\nfunction applyGravity(_ref10, _ref11) {\n    var pos = _ref10.pos,\n        dir = _ref10.dir;\n    var windowW = _ref11.windowW,\n        windowH = _ref11.windowH;\n    var g = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n    dir.vy += g;\n}\nfunction calcDamping(v) {\n    if (Math.abs(v) > 100) return 1;\n    if (Math.abs(v) < 0.5) return 0;\n    return 0.01 * v;\n}\nfunction others_move(_ref12) {\n    var pos = _ref12.pos,\n        dir = _ref12.dir;\n    var damping = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    pos.x += dir.vx;\n    pos.y += dir.vy;\n    if (!damping) return;\n    // dir.vx *= damping.dpx\n    // dir.vy *= damping.dpy\n    dir.vx -= calcDamping(dir.vx);\n    dir.vy -= calcDamping(dir.vy);\n}\nfunction applyFriction(dir, a) {\n    var signx = sign_default()(dir.vx);\n    dir.vx = Math.abs(dir.vx) - a < 0 ? 0 : dir.vx - signx * a;\n    var signy = sign_default()(dir.vy);\n    dir.vy = Math.abs(dir.vy) - a < 0 ? 0 : dir.vy - signx * a;\n}\nfunction earthFricion(_ref13, m, // m for mass\nhorizon) {\n    var pos = _ref13.pos,\n        dir = _ref13.dir;\n    var k = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.1;\n\n    if (pos.y < horizon) return;\n    var a = m * k;\n    applyFriction(dir, a);\n}\nfunction slide(pos, dest) {\n    var k = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.1;\n\n    pos.x += (dest.x - pos.x) * k;\n    pos.y += (dest.y - pos.y) * k;\n}\n// CONCATENATED MODULE: ./src/collection/utils/Canvas.ts\n\n\n\n\n\n\n\n\nvar Canvas_random = Math.random,\n    Canvas_sin = Math.sin,\n    Canvas_PI = Math.PI;\n\nvar Canvas_Canvas = function () {\n    function Canvas(bgColor) {\n        var _this = this;\n\n        classCallCheck_default()(this, Canvas);\n\n        this.bgColor = bgColor;\n        this.isRunning = false;\n        var canvas = document.getElementsByTagName('canvas')[0];\n        if (!canvas) throw Error('canvas not found.');\n        this.canvas = canvas;\n        var ctx = canvas.getContext('2d');\n        if (!ctx) throw Error('context not found.');\n        this.ctx = ctx;\n        this.renderMask = [/*showFPS(ctx), */showFPS2()];\n        window.onresize = function (e) {\n            var target = e.target;\n            _this.canvas.height = target.innerHeight;\n            _this.canvas.width = target.innerWidth;\n        };\n    }\n    // windowH = () => this.canvas.height\n    // windowW = () => this.canvas.width\n\n\n    createClass_default()(Canvas, [{\n        key: 'clrscr',\n        value: function clrscr() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this,\n                bgColor = _ref.bgColor,\n                canvas = _ref.canvas,\n                ctx = _ref.ctx,\n                windowH = _ref.windowH,\n                windowW = _ref.windowW,\n                data = _ref.data;\n\n            ctx.fillStyle = bgColor;\n            ctx.fillRect(0, 0, windowW, windowH);\n        }\n    }, {\n        key: 'render',\n        value: function render(timestamp) {\n            this.clrscr();\n            this.renderMain(this);\n            this.renderMask.forEach(function (mask) {\n                mask(timestamp);\n            });\n            this.isRunning && window.requestAnimationFrame(this.render.bind(this));\n        }\n    }, {\n        key: 'run',\n        value: function run() {\n            this.isRunning = true;\n            window.requestAnimationFrame(this.render.bind(this));\n        }\n    }, {\n        key: 'destory',\n        value: function destory() {\n            this.isRunning = false;\n        }\n    }, {\n        key: 'onClick',\n        value: function onClick(e) {}\n    }, {\n        key: 'windowH',\n        get: function get() {\n            return this.canvas.height;\n        }\n    }, {\n        key: 'windowW',\n        get: function get() {\n            return this.canvas.width;\n        }\n    }]);\n\n    return Canvas;\n}();\n\nvar Canvas_DefaultCanvas = function (_Canvas) {\n    inherits_default()(DefaultCanvas, _Canvas);\n\n    function DefaultCanvas(bgColor) {\n        classCallCheck_default()(this, DefaultCanvas);\n\n        var _this2 = possibleConstructorReturn_default()(this, (DefaultCanvas.__proto__ || get_prototype_of_default()(DefaultCanvas)).call(this, bgColor));\n\n        _this2.bgColor = bgColor;\n        _this2.step = 0;\n        _this2.waveStep = 0;\n        _this2.ribbonMoving = false;\n        var windowH = _this2.windowH;\n\n        var phase = Canvas_random() * 2;\n        var phaseList = [1.5];\n        var order = [1, 2, 3, 4, 5].map(function (x) {\n            return 0.618 * Math.pow(x, 1.618);\n        });\n        _this2.curves = [1].concat(toConsumableArray_default()(order)).map(function (order) {\n            var amp = void 0;\n            if (order === 1) amp = windowH * 0.1 / order;else amp = windowH * 0.2 / order;\n            var ret = function ret(x) {\n                return amp * Canvas_sin(order * (2 * Canvas_PI * x * 0.4e-3 + phase));\n            };\n            // add a random color to each curve function\n            assign_default()(ret, { color: makeRandomColorful() });\n            return ret;\n        });\n        setTimeout(function () {\n            _this2.ribbonMoving = true;\n        }, 1500);\n        return _this2;\n    }\n\n    createClass_default()(DefaultCanvas, [{\n        key: 'clrscr',\n        value: function clrscr() {\n            var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this,\n                bgColor = _ref2.bgColor,\n                canvas = _ref2.canvas,\n                ctx = _ref2.ctx,\n                windowH = _ref2.windowH,\n                windowW = _ref2.windowW,\n                data = _ref2.data;\n\n            ctx.fillStyle = bgColor;\n            ctx.fillRect(0, 0, windowW, windowH);\n        }\n    }, {\n        key: 'renderMain',\n        value: function renderMain() {\n            var _this3 = this;\n\n            var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this,\n                canvas = _ref3.canvas,\n                ctx = _ref3.ctx,\n                windowH = _ref3.windowH,\n                windowW = _ref3.windowW,\n                data = _ref3.data;\n\n            var base = this.curves[0];\n            this.curves.forEach(function (func, idx) {\n                var veryStart = void 0,\n                    veryEnd = void 0,\n                    start = void 0,\n                    end = void 0,\n                    step = void 0;\n                if (idx % 2 === 0) {\n                    veryStart = -10000;\n                    veryEnd = 10000;\n                    start = 0;\n                    end = windowW;\n                    step = function step(n) {\n                        return n + 1;\n                    };\n                } else {\n                    veryStart = 10000;\n                    veryEnd = -10000;\n                    start = windowW;\n                    end = 0;\n                    step = function step(n) {\n                        return n - 1;\n                    };\n                }\n                if (idx % 2 === 0) {\n                    ctx.beginPath();\n                    ctx.moveTo(veryStart, windowH / 2);\n                }\n                for (var i = start; i != end; i = step(i)) {\n                    ctx.lineTo(i, base(i + i * _this3.waveStep) + func(i - i * _this3.waveStep) + windowH * 0.2);\n                }\n                ctx.lineTo(veryEnd, windowH / 2);\n                if (idx % 2 !== 0) {\n                    var color = func.color(_this3.step);\n                    ctx.fillStyle = 'rgba(' + color + ')';\n                    ctx.lineTo(veryEnd, windowH / 2);\n                    ctx.closePath();\n                    ctx.fill();\n                }\n            });\n            if (!this.ribbonMoving) return;\n            this.step += 0.001;\n            var x = this.step * 18;\n            this.waveStep += Math.pow(Math.E, -x * 3) * Math.pow(x * 0.6, 2);\n        }\n    }]);\n\n    return DefaultCanvas;\n}(Canvas_Canvas);\n\nfunction defaultCanvas() {\n    return new Canvas_DefaultCanvas('#eaeaea');\n}\n// CONCATENATED MODULE: ./src/collection/textParticle.ts\n\n\n\n\n\n\n\n\nvar textParticle_Dot = function () {\n    function Dot(pos,\n    // public dir: ParticleLike['dir'],\n    destPos, color, cv) {\n        classCallCheck_default()(this, Dot);\n\n        this.pos = pos;\n        this.destPos = destPos;\n        this.color = color;\n        this.cv = cv;\n        this.free = false;\n    }\n\n    createClass_default()(Dot, [{\n        key: 'draw',\n        value: function draw() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.cv,\n                ctx = _ref.ctx;\n\n            var _pos = this.pos,\n                x = _pos.x,\n                y = _pos.y;\n\n            ctx.fillStyle = 'rgba(' + this.color + ')';\n            ctx.fillRect(x, y, 3, 3);\n        }\n    }, {\n        key: 'move',\n        value: function move() {\n            if (!this.free) return;\n            var pos = this.pos,\n                destPos = this.destPos;\n\n            slide(pos, destPos, 0.05);\n        }\n    }]);\n\n    return Dot;\n}();\n\nvar textParticle_TextParticle = function (_Canvas) {\n    inherits_default()(TextParticle, _Canvas);\n\n    function TextParticle() {\n        var bgColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"#feefed\";\n\n        classCallCheck_default()(this, TextParticle);\n\n        var _this = possibleConstructorReturn_default()(this, (TextParticle.__proto__ || get_prototype_of_default()(TextParticle)).call(this, bgColor));\n\n        _this.bgColor = bgColor;\n        _this.dots = [];\n        return _this;\n    }\n\n    createClass_default()(TextParticle, [{\n        key: 'renderMain',\n        value: function renderMain() {\n            var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this,\n                canvas = _ref2.canvas,\n                ctx = _ref2.ctx,\n                windowH = _ref2.windowH,\n                windowW = _ref2.windowW,\n                data = _ref2.data;\n\n            this.dots && this.dots.forEach(function (dot) {\n                dot.draw();\n                dot.move();\n            });\n        }\n    }, {\n        key: 'onClick',\n        value: function onClick(e) {\n            this.dots.forEach(function (dot) {\n                setTimeout(function () {\n                    return dot.free = !dot.free;\n                }, 60000 * Math.random());\n            });\n        }\n    }]);\n\n    return TextParticle;\n}(Canvas_Canvas);\n\nfunction textParticle() {\n    var cv = new textParticle_TextParticle();\n    var ctx = cv.ctx;\n\n    var offset = 0;\n    var colorInfoArr = [{ offset: 1 / 6, color: '#f00' }, { offset: 2 / 6, color: '#ff0' }, { offset: 3 / 6, color: '#0f0' }, { offset: 4 / 6, color: '#0ff' }, { offset: 5 / 6, color: '#00f' }, { offset: 6 / 6, color: '#f0f' }];\n    var gradientOption = {\n        x0: 250 + offset, y0: 150,\n        x1: 280 + offset, y1: 200,\n        colorInfoArr: colorInfoArr\n    };\n    var textColor = makeLinearGradient(cv.ctx, gradientOption);\n    // draw first frame and get its data, @pos(20000, 150)\n    // ctx.fillStyle = '#eacdae'\n    // ctx.fillRect(200+offset, 150, 200, 50)\n    ctx.fillStyle = textColor;\n    // ctx.fillStyle = '#777'\n    ctx.font = '60px helvetica,sans';\n    ctx.fillText('彩虹', 200 + offset, 200);\n    var hitChance = 0.3;\n    var filter = function filter(color) {\n        var str = color.reduce(function (s, c) {\n            return s + c.toString(16);\n        }, '#');\n        return str !== cv.bgColor && Math.random() < hitChance;\n    };\n    var refinedData = new others_RefinedImageData(ctx.getImageData(200 + offset, 150, 200, 60));\n    // hide this pre-render text\n    cv.clrscr();\n    refinedData.refine(filter);\n    for (var i = 0; i < refinedData.data.length; i += 2) {\n        var d = refinedData.data;\n        var _ref3 = [d[i], d[i + 1]],\n            x = _ref3[0],\n            y = _ref3[1];\n\n        var color = refinedData.getColor({ x: x, y: y });\n        var dot = new textParticle_Dot({\n            x: Math.random() * 50 + cv.windowW / 2,\n            y: -Math.random() * 20 + cv.windowH\n        }, { x: x * 2 + 150, y: y * 2 + 150 }, color, cv);\n        cv.dots.push(dot);\n    }\n    window.onresize = function (e) {\n        var target = e.target;\n        cv.canvas.height = target.innerHeight;\n        cv.canvas.width = target.innerWidth;\n    };\n    return cv;\n}\n// CONCATENATED MODULE: ./src/collection/needleDot.ts\n\n\n\n\n\n\n\nvar needleDot_random = function random() {\n    return Math.random();\n};\n\nvar needleDot_Dot = function () {\n    // cv: Canvas\n    function Dot(pos, r, color, cv) {\n        classCallCheck_default()(this, Dot);\n\n        this.pos = pos;\n        this.r = r;\n        this.color = color;\n        this.cv = cv;\n        this.dir = { vx: needleDot_random() * 2 - 1, vy: needleDot_random() * 2 - 1 };\n        // this.color = [Math.floor(128*random() + 100),Math.floor(128*random() + 100),Math.floor(128*random() + 100), random()*0.3 + 0.5]\n    }\n\n    createClass_default()(Dot, [{\n        key: 'mutate',\n        value: function mutate() {\n            // distortRoute(this, this.cv)\n            others_move(this);\n            var _cv = this.cv,\n                windowW = _cv.windowW,\n                windowH = _cv.windowH;\n\n            rebound(this, { top: 0, bottom: windowH, left: 0, right: windowW });\n        }\n    }, {\n        key: 'draw',\n        value: function draw() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.cv,\n                ctx = _ref.ctx,\n                canvas = _ref.canvas;\n\n            var _pos = this.pos,\n                x = _pos.x,\n                y = _pos.y,\n                r = this.r;\n\n            ctx.fillStyle = 'rgba(' + this.color + ')';\n            ctx.beginPath();\n            ctx.arc(x, y, r, 0, 2 * Math.PI);\n            ctx.closePath();\n            ctx.fill();\n        }\n    }]);\n\n    return Dot;\n}();\n\nvar needleDot_NeedleDotCanvas = function (_Canvas) {\n    inherits_default()(NeedleDotCanvas, _Canvas);\n\n    function NeedleDotCanvas() {\n        var bgColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#eaeaea';\n\n        classCallCheck_default()(this, NeedleDotCanvas);\n\n        var _this = possibleConstructorReturn_default()(this, (NeedleDotCanvas.__proto__ || get_prototype_of_default()(NeedleDotCanvas)).call(this, bgColor));\n\n        _this.createDots();\n        return _this;\n    }\n    // clrscr ({bgColor, canvas, ctx, windowH, windowW, data}: Canvas) {\n    //   ctx.fillStyle = `rgba(255, 255, 255, 0.25)`\n    //   ctx.fillRect(0, 0, windowW, windowH)\n    // }\n\n\n    createClass_default()(NeedleDotCanvas, [{\n        key: 'createDots',\n        value: function createDots() {\n            var count = Math.floor(150 * this.windowH * this.windowW / (1920 * 1080));\n            var data = this.data = new Array(count);\n            for (var i = 0; i < count; i++) {\n                var pos = randPos(this);\n                data[i] = new needleDot_Dot(pos, 1.62, [0xac, 0xbd, 0xce, 0.62], this);\n            }\n        }\n    }, {\n        key: 'renderMain',\n        value: function renderMain(_ref2) {\n            var _this2 = this;\n\n            var canvas = _ref2.canvas,\n                ctx = _ref2.ctx,\n                windowH = _ref2.windowH,\n                windowW = _ref2.windowW,\n                data = _ref2.data;\n\n            var dThreshold = Math.sqrt(0.618 * windowW * windowH / Math.PI) * 22;\n            ctx.lineWidth = 0.3;\n            this.data.forEach(function (dot, idx) {\n                // lines\n                _this2.data.slice(idx + 1).forEach(function (anotherDot) {\n                    var dsqr = Math.pow(dot.pos.x - anotherDot.pos.x, 2) + Math.pow(dot.pos.y - anotherDot.pos.y, 2);\n                    var a = 1 - dsqr / dThreshold;\n                    if (a < 0) return;\n                    ctx.beginPath();\n                    ctx.moveTo(dot.pos.x, dot.pos.y);\n                    ctx.lineTo(anotherDot.pos.x, anotherDot.pos.y);\n                    ctx.closePath();\n                    ctx.strokeStyle = 'rgba(50, 128, 255, ' + a + ')';\n                    ctx.stroke();\n                });\n                dot.draw();\n                dot.mutate();\n            });\n        }\n    }]);\n\n    return NeedleDotCanvas;\n}(Canvas_Canvas);\n\nfunction needleDot() {\n    var cv = new needleDot_NeedleDotCanvas();\n    window.onresize = function (e) {\n        var target = e.target;\n        cv.canvas.height = target.innerHeight;\n        cv.canvas.width = target.innerWidth;\n    };\n    return cv;\n}\n// CONCATENATED MODULE: ./src/collection/utils/WebGL.ts\n\n\n// 生成着色器方法，输入参数：渲染上下文，着色器类型，数据源\nfunction generateGLShader(gl, type, source) {\n    var shader = gl.createShader(type); // 创建着色器对象\n    gl.shaderSource(shader, source); // 提供数据源\n    gl.compileShader(shader); // 编译 -> 生成着色器\n    var success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!success) {\n        var errString = String(gl.getShaderInfoLog(shader));\n        gl.deleteShader(shader);\n        throw Error(errString);\n    }\n    return shader;\n}\n// 生成着色程序\nfunction generateGLProgram(gl, vsSrc, fsSrc) {\n    var program = gl.createProgram();\n    var vertexShader = generateGLShader(gl, gl.VERTEX_SHADER, vsSrc);\n    gl.attachShader(program, vertexShader);\n    var fragmentShader = generateGLShader(gl, gl.FRAGMENT_SHADER, fsSrc);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    var success = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!success) {\n        var errString = String(gl.getProgramInfoLog(program));\n        gl.deleteProgram(program);\n        throw Error(errString);\n    }\n    return program;\n}\n// 从js数据传送到显存\nfunction jsArr2gRam(gl, target, buffer, // this is gRam\ndata, usage) {\n    gl.bindBuffer(target, buffer);\n    gl.bufferData(target, data, usage);\n}\nfunction gRam2ShaderAttr(gl, target, buffer, attr, pointerConfig, program) {\n    var attrIdx = void 0;\n    if (typeof attr === 'string') {\n        if (!program) throw Error('webgl program should be provided if attr is string');\n        attrIdx = gl.getAttribLocation(program, attr);\n    } else attrIdx = attr;\n    var size = pointerConfig.size,\n        type = pointerConfig.type,\n        normalize = pointerConfig.normalize,\n        stride = pointerConfig.stride,\n        offset = pointerConfig.offset;\n\n    gl.bindBuffer(target, buffer);\n    gl.vertexAttribPointer(attrIdx, size, type, normalize, stride, offset);\n    gl.enableVertexAttribArray(attrIdx);\n}\nvar WebGL_GLScene = function () {\n    function GLScene() {\n        classCallCheck_default()(this, GLScene);\n\n        this.programs = {};\n        var canvas = document.getElementsByTagName('canvas')[0];\n        if (!canvas) throw Error('canvas not found');\n        var gl = canvas.getContext('webgl');\n        if (!gl) throw Error('get webgl context failed');\n        this.canvas = canvas;\n        this.gl = gl;\n    }\n\n    createClass_default()(GLScene, [{\n        key: 'run',\n        value: function run() {}\n    }, {\n        key: 'destory',\n        value: function destory() {}\n    }, {\n        key: 'onClick',\n        value: function onClick(e) {}\n    }, {\n        key: 'windowW',\n        get: function get() {\n            return this.canvas.width;\n        }\n    }, {\n        key: 'windowH',\n        get: function get() {\n            return this.canvas.height;\n        }\n    }]);\n\n    return GLScene;\n}();\n// CONCATENATED MODULE: ./src/collection/glslTest.ts\n\n\n\n\n\n\n\n/**\n * 着色程序中，全局变量只能赋值常量，否则要把变量放置在main中（同C）\n * uniform类型变量，需要在gl.useProgram之后再传送值去显卡。\n */\n\n\nvar vsSrc = '\\nuniform vec2 u_resolution;\\nattribute vec2 a_position;\\nattribute vec4 a_color;\\nvarying vec4 v_color;\\nvoid main() {\\n  vec2 clip = a_position/u_resolution*2.0 - 1.0;\\n  v_color = a_color;\\n  gl_Position = vec4(clip, 0, 1);\\n}\\n';\nvar fsSrc = '\\nprecision mediump float;\\nvarying vec4 v_color;\\nvoid main() {\\n  gl_FragColor = v_color;\\n}\\n';\nvar glslTest_random = Math.random;\n\nvar glslTest_GLDots = function (_GLScene) {\n    inherits_default()(GLDots, _GLScene);\n\n    function GLDots() {\n        var bgColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [0, 0, 0, 0];\n        var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n        classCallCheck_default()(this, GLDots);\n\n        var _this = possibleConstructorReturn_default()(this, (GLDots.__proto__ || get_prototype_of_default()(GLDots)).call(this));\n\n        _this.bgColor = bgColor;\n        _this.dotsData = [];\n        var windowW = _this.windowW,\n            windowH = _this.windowH,\n            gl = _this.gl;\n\n        var _loop = function _loop(i) {\n            var _this$dotsData;\n\n            var x = randn_bm() * 80 + windowW / 2;\n            var y = randn_bm() * 80 + windowH / 2;\n            var rand3 = [1, 2, 3];\n            var color = [glslTest_random(), glslTest_random(), glslTest_random(), 1.0];\n            var data = rand3.reduce(function (v, _ignore) {\n                return [].concat(toConsumableArray_default()(v), [5 * glslTest_random() + x, 5 * glslTest_random() + y], color);\n            }, []);\n            (_this$dotsData = _this.dotsData).push.apply(_this$dotsData, toConsumableArray_default()(data));\n        };\n\n        for (var i = 0; i < count; i++) {\n            _loop(i);\n        }\n        return _this;\n    }\n\n    createClass_default()(GLDots, [{\n        key: 'run',\n        value: function run() {\n            var gl = this.gl,\n                bgColor = this.bgColor,\n                windowW = this.windowW,\n                windowH = this.windowH;\n\n            var _bgColor = slicedToArray_default()(bgColor, 4),\n                r = _bgColor[0],\n                g = _bgColor[1],\n                b = _bgColor[2],\n                a = _bgColor[3];\n\n            var program = generateGLProgram(gl, vsSrc, fsSrc);\n            var u_resolutionLoc = gl.getUniformLocation(program, 'u_resolution');\n            var positionsBuffer = gl.createBuffer();\n            var pointerConfig = {\n                size: 2,\n                type: gl.FLOAT,\n                normalize: false,\n                stride: 6 * 4,\n                offset: 0\n            };\n            var data = new Float32Array(this.dotsData);\n            jsArr2gRam(gl, gl.ARRAY_BUFFER, positionsBuffer, data, gl.STATIC_DRAW);\n            gRam2ShaderAttr(gl, gl.ARRAY_BUFFER, positionsBuffer, 'a_position', pointerConfig, program);\n            pointerConfig.offset = 2 * 4;\n            pointerConfig.size = 4;\n            gRam2ShaderAttr(gl, gl.ARRAY_BUFFER, positionsBuffer, 'a_color', pointerConfig, program);\n            // draw\n            gl.viewport(0, 0, windowW, windowH);\n            gl.useProgram(program);\n            gl.uniform2f(u_resolutionLoc, windowW, windowH);\n            gl.clearColor(r, g, b, a);\n            gl.clear(gl.COLOR_BUFFER_BIT);\n            gl.drawArrays(gl.TRIANGLES, 0, data.length / 6);\n        }\n    }]);\n\n    return GLDots;\n}(WebGL_GLScene);\n\nfunction glslTest() {\n    var scene = new glslTest_GLDots();\n    window.onresize = function (e) {\n        var target = e.target;\n        scene.canvas.height = target.innerHeight;\n        scene.canvas.width = target.innerWidth;\n    };\n    return scene;\n}\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/set.js\nvar set = __webpack_require__(\"lHA8\");\nvar set_default = /*#__PURE__*/__webpack_require__.n(set);\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/get-iterator.js\nvar get_iterator = __webpack_require__(\"BO1k\");\nvar get_iterator_default = /*#__PURE__*/__webpack_require__.n(get_iterator);\n\n// CONCATENATED MODULE: ./src/collection/colorfulDonut.ts\n\n\n\n\n\n\n\n\n\n\n\n\nvar colorfulDonut_Donut = function () {\n    function Donut(pos, dir, r, thickness, color, cv) {\n        classCallCheck_default()(this, Donut);\n\n        this.pos = pos;\n        this.dir = dir;\n        this.r = r;\n        this.thickness = thickness;\n        this.color = color;\n        this.cv = cv;\n        this.isSlow = false;\n        this.isDead = false;\n    }\n\n    createClass_default()(Donut, [{\n        key: \"mutate\",\n        value: function mutate() {\n            var pos = this.pos,\n                dir = this.dir;\n\n            applyGravity(this, this.cv);\n            others_move(this, true);\n            var _cv = this.cv,\n                windowW = _cv.windowW,\n                windowH = _cv.windowH;\n\n            var bottom = void 0;\n            if (this.isSlow) bottom = windowH;else bottom = windowH * 0.9;\n            rebound(this, { top: -Infinity, bottom: bottom, left: 0, right: windowW });\n            earthFricion(this, this.r * 0.05, bottom);\n            this.fade();\n        }\n    }, {\n        key: \"draw\",\n        value: function draw() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.cv,\n                ctx = _ref.ctx,\n                canvas = _ref.canvas;\n\n            var _pos = this.pos,\n                x = _pos.x,\n                y = _pos.y,\n                r = this.r,\n                thickness = this.thickness;\n\n            ctx.strokeStyle = \"rgba(\" + this.color + \")\";\n            ctx.lineWidth = thickness;\n            ctx.beginPath();\n            ctx.arc(x, y, r, 0, 2 * Math.PI);\n            ctx.closePath();\n            ctx.stroke();\n            this.mutate();\n        }\n    }, {\n        key: \"markIfSlow\",\n        value: function markIfSlow() {\n            var _dir = this.dir,\n                vx = _dir.vx,\n                vy = _dir.vy;\n\n            if (Math.abs(vx) < 0.5 && Math.abs(vy) < 0.5) this.isSlow = true;\n        }\n    }, {\n        key: \"fade\",\n        value: function fade() {\n            if (!this.isSlow) {\n                this.markIfSlow();\n                return;\n            }\n\n            var _color = slicedToArray_default()(this.color, 4),\n                r = _color[0],\n                g = _color[1],\n                b = _color[2],\n                a = _color[3];\n\n            if (a < 1 / 255) {\n                this.isDead = true;\n            }\n            this.color = [r, g, b, a * 0.9];\n        }\n    }]);\n\n    return Donut;\n}();\n\nfunction isValid(arr) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = get_iterator_default()(arr), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var m = _step.value;\n\n            if (m) return true;\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return false;\n}\n\nvar colorfulDonut_ColorfulDonut = function (_Canvas) {\n    inherits_default()(ColorfulDonut, _Canvas);\n\n    // public step: number = 0\n    function ColorfulDonut() {\n        var bgColor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"#eacdae\";\n\n        classCallCheck_default()(this, ColorfulDonut);\n\n        var _this = possibleConstructorReturn_default()(this, (ColorfulDonut.__proto__ || get_prototype_of_default()(ColorfulDonut)).call(this, bgColor));\n\n        _this.bgColor = bgColor;\n        _this.data = new set_default.a();\n        return _this;\n    }\n\n    createClass_default()(ColorfulDonut, [{\n        key: \"renderMain\",\n        value: function renderMain() {\n            var _this2 = this;\n\n            var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this,\n                canvas = _ref2.canvas,\n                ctx = _ref2.ctx,\n                windowH = _ref2.windowH,\n                windowW = _ref2.windowW,\n                data = _ref2.data;\n\n            this.data.forEach(function (dataGroup) {\n                if (!isValid(dataGroup)) {\n                    _this2.data.delete(dataGroup);\n                    return;\n                }\n                dataGroup.forEach(function (donut, idx) {\n                    // if (idx > this.step) return\n                    if (!donut) return;\n                    if (donut.isDead) {\n                        delete dataGroup[idx];\n                        return;\n                    }\n                    donut.draw();\n                });\n            });\n        }\n    }, {\n        key: \"addData\",\n        value: function addData(x, y) {\n            var windowH = this.windowH,\n                windowW = this.windowW;\n\n            var count = windowH * windowW / (1920 * 1080) * 30;\n            var ret = [];\n            for (var i = 0; i < count; i++) {\n                var randColor = [255, 255, 255].map(function (c) {\n                    return Math.floor(c * Math.random());\n                });\n                var r = 0;\n                while (r < 5) {\n                    r = Math.abs(randn_bm() * 5 + 10);\n                }ret.push(new colorfulDonut_Donut(\n                // careful, **DO NOT USE** `pos` as an object,\n                // or all particle will act on the same pos object\n                { x: x || windowW / 2, y: y || windowH * 0.618 }, { vx: randn_bm() * 10, vy: -Math.abs(randn_bm() * 25) }, r, Math.abs(randn_bm() * 3.1 + 3.1), [].concat(toConsumableArray_default()(randColor), [1.0]), this));\n            }\n            this.data.add(ret);\n        }\n    }, {\n        key: \"onClick\",\n        value: function onClick(e) {\n            var x = e.x,\n                y = e.y;\n\n            this.addData(x, y);\n        }\n    }]);\n\n    return ColorfulDonut;\n}(Canvas_Canvas);\n\nfunction colorfulDonut() {\n    var cv = new colorfulDonut_ColorfulDonut();\n    var windowH = cv.windowH;\n\n    var colorInfoArr = [{ offset: 0.0, color: '#eacdae' }, { offset: 0.9, color: '#fefeef' }, { offset: 0.909, color: '#777' }, { offset: 0.91, color: '#eacdae' }, { offset: 1.0, color: '#eacdae' }];\n    var gradientOption = {\n        x0: 0, y0: 0,\n        x1: 0, y1: windowH,\n        colorInfoArr: colorInfoArr\n    };\n    cv.bgColor = makeLinearGradient(cv.ctx, gradientOption);\n    cv.addData();\n    window.onresize = function (e) {\n        var target = e.target;\n        cv.canvas.height = target.innerHeight;\n        cv.canvas.width = target.innerWidth;\n    };\n    return cv;\n}\n// CONCATENATED MODULE: ./src/collection/index.ts\n\n\n\n\n\n// CONCATENATED MODULE: ./src/components/vue-canvas.tsx\n\nfunction makeCanvas(script) {\n    return vue_esm[\"a\" /* default */].extend({\n        name: 'vue-canvas',\n        computed: {\n            cv: function cv() {\n                return script();\n            }\n        },\n        mounted: function mounted() {\n            this.cv.run();\n        },\n        destroyed: function destroyed() {\n            this.cv.destory();\n        },\n        render: function render() {\n            var _this = this;\n\n            var h = arguments[0];\n\n            var height = window.innerHeight;\n            var width = window.innerWidth;\n            var style = { position: 'fixed', top: 0, left: 0, 'z-index': -1 };\n            // when below is running, this.cv in computed is not calculated.\n            var handleClick = function handleClick(e) {\n                return _this.cv.onClick(e);\n            };\n            return h(\n                'canvas',\n                {\n                    on: {\n                        'click': handleClick\n                    },\n                    attrs: { height: height, width: width },\n                    style: style },\n                ['canvas is not support']\n            );\n        }\n    });\n}\n// CONCATENATED MODULE: ./src/router.ts\n\n\n\n\n\n\nvar links = [];\nvar routes = entries_default()(collection_namespaceObject).map(function (_ref) {\n    var _ref2 = slicedToArray_default()(_ref, 2),\n        scriptName = _ref2[0],\n        script = _ref2[1];\n\n    var path = '/' + scriptName;\n    var component = makeCanvas(script);\n    links.push(scriptName);\n    return { path: path, component: component };\n});\nroutes.push({\n    path: '/',\n    component: makeCanvas(defaultCanvas)\n});\nvar router = new vue_router_esm[\"a\" /* default */]({\n    routes: routes,\n    mode: 'history'\n});\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/ts-loader!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.ts.vue\n\n\n\nvue_esm[\"a\" /* default */].use(vue_router_esm[\"a\" /* default */]);\n/* harmony default export */ var App_ts = (vue_esm[\"a\" /* default */].extend({\n    name: 'app',\n    data: function data() {\n        return {\n            links: links\n        };\n    },\n\n    router: router\n}));\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9c02a1a2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.ts.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"menu-container\"},_vm._l((_vm.links),function(link){return _c('router-link',{key:link,staticClass:\"script-link\",attrs:{\"to\":link}},[_c('span',[_vm._v(_vm._s(link))])])})),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App_ts = (esExports);\n// CONCATENATED MODULE: ./src/App.ts.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"bsQ0\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  App_ts,\n  selectortype_template_index_0_src_App_ts,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_App_ts = (Component.exports);\n\n// CONCATENATED MODULE: ./src/main.ts\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\nvue_esm[\"a\" /* default */].config.productionTip = false;\n/* eslint-disable no-new */\nnew vue_esm[\"a\" /* default */]({\n    el: '#app',\n    template: '<App/>',\n    components: { App: src_App_ts }\n});\n\n/***/ })\n\n},[\"x35b\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.38d6fa949652af8b3fc9.js","import { Canvas } from \"./Canvas\"\nimport { Subject } from 'rxjs/Subject'\nimport { Observer } from 'rxjs/observer'\n\nimport 'rxjs/add/operator/pairwise'\nimport 'rxjs/add/operator/map'\nimport 'rxjs/add/operator/bufferCount'\nimport 'rxjs/add/operator/scan'\nimport 'rxjs/add/operator/timeout'\n\n\nlet {floor, random, sin, cos, tan, PI} = Math\n\n// ------utils--------\nexport interface ParticleLike {\n  pos: {\n    x: number\n    y: number\n  }\n  dir: {\n    vx: number\n    vy: number\n  }\n}\n\nexport interface Boundary {\n  top: number\n  bottom: number\n  left: number\n  right: number\n}\n\nexport interface LinearGradient {\n  x0: number\n  y0: number\n  x1: number\n  y1: number\n  colorInfoArr: {\n    offset: number\n    color: string\n  }[]\n}\n\nexport type colorArray = [number, number, number, number]\n\nexport interface TransferParam {\n  size: number\n  type: number\n  normalize: boolean\n  stride: number\n  offset: number\n}\n\n// Standard Normal variate using Box-Muller transform.\n// ref: https://stackoverflow.com/questions/25582882/javascript-math-random-normal-distribution-gaussian-bell-curve\nexport function randn_bm() {\n  var u = 0, v = 0;\n  //Converting [0,1) to (0,1)\n  while(u === 0) u = Math.random()\n  while(v === 0) v = Math.random()\n  return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v )\n}\n\nexport function makeLinearGradient(\n  ctx: CanvasRenderingContext2D,\n  {x0, y0, x1, y1, colorInfoArr}: LinearGradient\n) {\n  let gradient = ctx.createLinearGradient(x0, y0, x1, y1)\n  colorInfoArr.forEach((colorInfo, idx) => {\n    let {offset, color} = colorInfo\n    gradient.addColorStop(offset, color)\n  })\n  return gradient\n}\n\nexport function randPos ({windowH, windowW}: {\n  windowH: number\n  windowW: number\n}) {\n  let x = random() * windowW\n  let y = random() * windowH\n  return {x, y}\n}\n\nexport function randColor () {\n  return [0xff, 0xff, 0xff, 1].map(v => {\n    let ret = random()*v\n    return ret <= 1 ? ret : floor(ret)\n  })\n}\nexport function makeRandomColorful () {\n  // controls the color in range [0.382, 0.618]\n  let rand = randn_bm() * 10\n  console.log(rand)\n  return (step: number) => {\n    let r = Math.floor(0xff*((sin(rand+step+0*PI/3)+1)*0.5))\n    let g = Math.floor(0xff*((sin(rand+step+2*PI/3)+1)*0.5))\n    let b = Math.floor(0xff*((sin(rand+step-2*PI/3)+1)*0.5))\n    let a = 0.382\n    return [r, g, b, a]\n  }\n}\n\nexport function showFPS (ctx: CanvasRenderingContext2D) {\n  let prevTime = new Date().getTime()\n  let count = 0\n  let fps = '0'\n  function renderFPS () {\n    count++\n    ctx.fillStyle = 'green'\n    ctx.font = '12px helvetica, sans'\n    if (count !== 100) {\n      ctx.fillText(`FPS: ${fps}`, 10, 20)\n      return\n    }\n    count = 0\n    // 100 frames rendered\n    let currTime = new Date().getTime()\n    let diffTime = (currTime-prevTime) / 1000\n    prevTime = currTime\n    fps = (100 / diffTime).toFixed(1)\n    ctx.fillText(`FPS: ${fps}`, 10, 20)\n  }\n  return renderFPS\n}\n\nexport function showFPS2 () {\n  let fpsMask = document.getElementById('fps-present') as HTMLCanvasElement | null\n  if (!fpsMask) {\n    fpsMask = document.createElement('canvas')\n    fpsMask.setAttribute('width', '80')\n    fpsMask.setAttribute('height', '30')\n    fpsMask.id = 'fps-present'\n    fpsMask.style.position = 'fixed'\n    fpsMask.style.top = '0'\n    document.body.appendChild(fpsMask)\n  }\n\n  let ctx = fpsMask.getContext('2d') as CanvasRenderingContext2D\n  if (!ctx) throw Error('fps present mask canvas not found')\n\n  let emitter = new Subject<number>()\n  let fpsSubscription = emitter\n  .timeout(5000) // close emitter and do clean staff if no data in 5sec\n  .pairwise()\n  .map(([prev, curr]) => curr - prev)\n  .bufferCount(100, 1)\n  .scan((presentFPS, fpsArr, idx) => {\n    if (idx%33 === 0) {\n      let timeCost = fpsArr.reduce((sum, d) => sum+d, 0)\n      let fps = (100*1000/timeCost).toFixed(1)\n      presentFPS = fps\n    }\n    return presentFPS\n  }, '0')\n  .subscribe({\n    next: fps => {\n      ctx.clearRect(0, 0, 80, 30)\n      ctx.fillStyle = '#444'\n      ctx.font = '16px helvetica, sans'\n      ctx.fillText(`FPS: ${fps}`, 10, 20)\n    },\n    error: err => {\n      // fpsSubscription was auto unscubscribed when timeout trigger error\n      emitter.unsubscribe()\n    }\n  })\n\n  emitter.next(+new Date())\n  function fpsEmitter (timestemp: number) {\n    emitter.next(timestemp)\n  }\n  return fpsEmitter\n}\n\nexport class RefinedImageData {\n  public data: Uint16Array\n  constructor (public readonly srcData: ImageData) {}\n  refine (filter: (color: number[]) => boolean) {\n    let {width, height} = this.srcData\n    let rawRet = new Uint16Array(width*height*2)\n    let validLength = 0\n    for (let i = 0; i < width*height; i++) {\n      // let color = this.srcData.data.subarray(i*4, i*4 + 4)\n      let d = this.srcData.data\n      let idx = i*4\n      let color = [d[idx], d[idx+1], d[idx+2], d[idx+3]]\n      if (!filter(color)) { continue }\n      // debugger\n      let x = i % width\n      let y = i / width\n      // subarray is very very slow\n      // rawRet.subarray(validLength, validLength+2).set([x, y])\n      rawRet[validLength] = x\n      rawRet[validLength+1] = y\n      validLength += 2\n    }\n    this.data = rawRet.subarray(0, validLength*2)\n  }\n  getColor({x, y}: ParticleLike['pos']) {\n    let idx = 4*(y*this.width + x)\n    let d = this.srcData.data\n    let color = [d[idx], d[idx+1], d[idx+2], d[idx+3]]\n    return color\n  }\n  get width () { return this.srcData.width }\n  get height () { return this.srcData.height }\n}\n\n// use typed array stands for a batch of dots,\n// properties on a dot: [color, pos, dir, acc] share memory\nexport class BufferDots {\n  private buffer: Uint32Array\n  constructor (public readonly count: number) {\n    this.buffer = new Uint32Array(count*9)\n  }\n  // this **SHOULD BE** implemented by webgl & glsl,\n  // not in js class\n}\n\n// -------physical-----------\nexport function rebound(\n  {pos, dir}: ParticleLike,\n  {top, bottom, left, right}: Boundary,\n  decay = {dcx: 1, dcy: 1}\n) {\n  if (pos.x < left) {\n    pos.x = left\n    dir.vx *= -decay.dcx\n  } else if (pos.x > right) {\n    pos.x = right\n    dir.vx *= -decay.dcx\n  }\n\n  if (pos.y < top) {\n    pos.y = top\n    dir.vy *= -decay.dcy\n  } else if (pos.y > bottom) {\n    pos.y = bottom\n    dir.vy *= -decay.dcy\n  }\n}\n\nexport function distortRoute(\n  {pos, dir}: ParticleLike,\n  {windowH, windowW}: Canvas\n) {\n  let randx = Infinity\n  let randy = Infinity\n  // make random in (-10, 10)\n  while(Math.abs(randx) > 10) randx = randn_bm()\n  while(Math.abs(randy) > 10) randy = randn_bm()\n  dir.vx += randx * 0.01\n  dir.vy += randy * 0.01\n}\n\nexport function applyGravity (\n  {pos, dir}: ParticleLike,\n  {windowW, windowH}: Canvas,\n  g = 1\n) {\n  dir.vy += g\n}\n\nfunction calcDamping (v: number ) {\n  if (Math.abs(v) > 100) return 1\n  if (Math.abs(v) < 0.5) return 0\n  return 0.01*v\n}\nexport function move (\n  {pos, dir}: ParticleLike,\n  damping = false\n) {\n  pos.x += dir.vx\n  pos.y += dir.vy\n\n  if (!damping) return\n  // dir.vx *= damping.dpx\n  // dir.vy *= damping.dpy\n  dir.vx -= calcDamping(dir.vx)\n  dir.vy -= calcDamping(dir.vy)\n}\n\nexport function applyFriction(dir: ParticleLike['dir'], a: number) {\n  let signx = Math.sign(dir.vx)\n  dir.vx = Math.abs(dir.vx) - a < 0 ? 0 : dir.vx - signx * a\n\n  let signy = Math.sign(dir.vy)\n  dir.vy = Math.abs(dir.vy) - a < 0 ? 0 : dir.vy - signx * a\n}\n\nexport function earthFricion(\n  {pos, dir}: ParticleLike,\n  m: number, // m for mass\n  horizon: number,\n  k = 0.1\n) {\n  if (pos.y < horizon) return\n  let a = m * k\n  applyFriction(dir, a)\n}\n\nexport function slide (\n  pos: ParticleLike['pos'],\n  dest: ParticleLike['pos'],\n  k = 0.1\n) {\n  pos.x += (dest.x - pos.x) * k\n  pos.y += (dest.y - pos.y) * k\n}\n\n\n// WEBPACK FOOTER //\n// ./src/collection/utils/others.ts","import {\n  showFPS,\n  ParticleLike,\n  makeRandomColorful,\n  randn_bm,\n  randColor,\n  showFPS2\n} from \"./others\";\nimport { Timestamp } from \"rxjs/operators/timestamp\";\n\nlet {random, sin, PI} = Math\n\nexport abstract class Canvas{\n  canvas: HTMLCanvasElement\n  ctx: CanvasRenderingContext2D\n  renderMask: Function[]\n  isRunning: boolean = false\n  data: any\n  constructor (public bgColor: string | CanvasGradient) {\n    let canvas = document.getElementsByTagName('canvas')[0] as HTMLCanvasElement\n    if (!canvas) throw Error(`canvas not found.`)\n    this.canvas = canvas\n\n    let ctx = canvas.getContext('2d')\n    if (!ctx) throw Error(`context not found.`)\n    this.ctx = ctx\n    this.renderMask = [/*showFPS(ctx), */showFPS2()]\n    \n    window.onresize = e => {\n      let target = e.target as (typeof window)\n      this.canvas.height = target.innerHeight\n      this.canvas.width = target.innerWidth\n    }\n  }\n  // windowH = () => this.canvas.height\n  // windowW = () => this.canvas.width\n  get windowH () { return this.canvas.height }\n  get windowW () { return this.canvas.width }\n  abstract renderMain ({canvas, ctx, windowH, windowW, data}: Canvas): void\n  clrscr ({bgColor, canvas, ctx, windowH, windowW, data}: Canvas = this) {\n    ctx.fillStyle = bgColor\n    ctx.fillRect(0, 0, windowW, windowH)\n  }\n  render (timestamp: number) {\n    this.clrscr()\n    this.renderMain(this)\n    this.renderMask.forEach(mask => {\n      mask(timestamp)\n    })\n    this.isRunning && window.requestAnimationFrame(this.render.bind(this))\n  }\n  run () {\n    this.isRunning = true\n    window.requestAnimationFrame(this.render.bind(this))\n  }\n  destory () {\n    this.isRunning = false\n  }\n  onClick (e: MouseEvent) {  }\n}\n\nclass DefaultCanvas extends Canvas {\n  curves: ((x: number) =>number)[]\n  step: number = 0\n  waveStep: number = 0\n  ribbonMoving: boolean = false\n  constructor (public bgColor: string) {\n    super(bgColor)\n    let {windowH} = this\n    let phase = random()*2\n    let phaseList = [1.5]\n\n    let order = [1,2,3,4,5].map(x => 0.618*x**1.618)\n    this.curves = [1, ...order].map(order => {\n      let amp: number\n      if (order === 1) amp = windowH*0.1/order\n      else amp = windowH*0.2/order\n      let ret = (x: number) => {\n        return amp*sin(order*(2*PI*x*0.4e-3 + phase))\n      }\n      // add a random color to each curve function\n      Object.assign(ret, {color: makeRandomColorful()})\n      return ret\n    })\n\n    setTimeout(() => { this.ribbonMoving = true }, 1500)\n  }\n  clrscr ({bgColor, canvas, ctx, windowH, windowW, data}: Canvas = this) {\n    ctx.fillStyle = bgColor\n    ctx.fillRect(0, 0, windowW, windowH)\n  }\n  renderMain ({canvas, ctx, windowH, windowW, data}: Canvas = this) {\n    let base = this.curves[0]\n    this.curves.forEach((func, idx) => {\n      let veryStart, veryEnd, start, end, step\n      if (idx % 2 === 0) {\n        veryStart = -10000\n        veryEnd = 10000\n        start = 0\n        end = windowW\n        step = (n: number) => n+1\n      } else {\n        veryStart = 10000\n        veryEnd = -10000\n        start = windowW\n        end = 0\n        step = (n: number) => n-1\n      }\n      \n      if (idx % 2 === 0) {\n        ctx.beginPath()\n        ctx.moveTo(veryStart, windowH/2)\n      }\n\n      for (let i = start; i != end; i = step(i)) {\n        ctx.lineTo(i, base(i+i*this.waveStep) + func(i-i*this.waveStep) + windowH*0.2)\n      }\n      ctx.lineTo(veryEnd, windowH/2)\n\n      if (idx % 2 !== 0) {\n        let color = (func as any).color(this.step)\n        ctx.fillStyle = `rgba(${color})`\n        ctx.lineTo(veryEnd, windowH/2)\n        ctx.closePath()\n        ctx.fill()\n      }\n    })\n\n    if (!this.ribbonMoving) return\n    this.step += 0.001\n    let x = this.step*18\n    this.waveStep += Math.E**(-x*3) * (x*0.6)**2\n  }\n}\n\nexport function defaultCanvas () {\n  return new DefaultCanvas('#eaeaea')\n}\n\n\n// WEBPACK FOOTER //\n// ./src/collection/utils/Canvas.ts","import {Canvas} from './utils/Canvas'\nimport {\n  ParticleLike,\n  randColor,\n  RefinedImageData,\n  makeLinearGradient,\n  slide\n} from './utils/others'\n\n\n\nclass Dot {\n  public free: boolean = false\n  constructor (\n    public pos: ParticleLike['pos'],\n    // public dir: ParticleLike['dir'],\n    public destPos: ParticleLike['pos'],\n    public color: number[],\n    public cv: Canvas\n  ) {  }\n  draw ({ctx} = this.cv) {\n    let {x, y} = this.pos\n    ctx.fillStyle = `rgba(${this.color})`\n    ctx.fillRect(x, y, 3, 3)\n  }\n  move () {\n    if (!this.free) return\n    let {pos, destPos} = this\n    slide(pos, destPos, 0.05)\n  }\n}\n\nclass TextParticle extends Canvas {\n  public dots: Dot[] = []\n  constructor (public bgColor: string | CanvasGradient = \"#feefed\") {\n    super(bgColor)\n  }\n  renderMain ({canvas, ctx, windowH, windowW, data}: Canvas = this) {\n    this.dots && this.dots.forEach(dot => {\n      dot.draw()\n      dot.move()\n    })\n  }\n  onClick (e: MouseEvent) {\n    this.dots.forEach(dot => {\n      setTimeout(() => dot.free = !dot.free, 60000*Math.random())\n    })\n  }\n}\n\nexport function textParticle () {\n  let cv = new TextParticle()\n  let {ctx} = cv\n  let offset = 0\n  let colorInfoArr = [\n    {offset: 1/6, color: '#f00'},\n    {offset: 2/6, color: '#ff0'},\n    {offset: 3/6, color: '#0f0'},\n    {offset: 4/6, color: '#0ff'},\n    {offset: 5/6, color: '#00f'},\n    {offset: 6/6, color: '#f0f'}\n  ]\n  let gradientOption = {\n    x0: 250 + offset, y0: 150,\n    x1: 280 + offset, y1: 200,\n    colorInfoArr\n  }\n  let textColor = makeLinearGradient(cv.ctx, gradientOption)\n  // draw first frame and get its data, @pos(20000, 150)\n  // ctx.fillStyle = '#eacdae'\n  // ctx.fillRect(200+offset, 150, 200, 50)\n  ctx.fillStyle = textColor\n  // ctx.fillStyle = '#777'\n  ctx.font = '60px helvetica,sans'\n  ctx.fillText('彩虹', 200 + offset, 200)\n\n  let hitChance = 0.3\n  let filter = (color: number[]) => {\n    let str = color.reduce((s, c) => {\n      return s+c.toString(16)\n    }, '#')\n    return str !== cv.bgColor && Math.random() < hitChance\n  }\n  let refinedData = new RefinedImageData(ctx.getImageData(200 + offset, 150, 200, 60))\n  // hide this pre-render text\n  cv.clrscr()\n  refinedData.refine(filter)\n  for (let i = 0; i < refinedData.data.length; i += 2) {\n    let d = refinedData.data\n    let [x, y] = [d[i], d[i+1]]\n    let color = refinedData.getColor({x, y})\n    let dot = new Dot({\n      x: Math.random()* 50 + cv.windowW / 2,\n      y: -Math.random()* 20 + cv.windowH\n    }, {x: x*2 + 150, y: y*2 + 150}, color, cv)\n    cv.dots.push(dot)\n  }\n\n  window.onresize = e => {\n    let target = e.target as (typeof window)\n    cv.canvas.height = target.innerHeight\n    cv.canvas.width = target.innerWidth\n  }\n\n  return cv\n}\n\n\n// WEBPACK FOOTER //\n// ./src/collection/textParticle.ts","import { Canvas } from './utils/Canvas'\nimport { ParticleLike, rebound, distortRoute, randPos, showFPS, move } from './utils/others'\n\nlet random = () => Math.random()\n\nclass Dot {\n  // pos: ParticleLike['pos']\n  // r: number\n  // color: number[]\n  public dir: ParticleLike['dir']\n  // cv: Canvas\n  constructor (\n    public pos: ParticleLike['pos'],\n    public r: number,\n    public color: number[],\n    private cv: Canvas) {\n    this.dir = {vx: random()*2 - 1, vy: random()*2 - 1}\n    // this.color = [Math.floor(128*random() + 100),Math.floor(128*random() + 100),Math.floor(128*random() + 100), random()*0.3 + 0.5]\n  }\n  mutate () {\n    // distortRoute(this, this.cv)\n    move(this)\n    let {windowW, windowH} = this.cv\n    rebound(this, {top: 0, bottom: windowH, left: 0, right: windowW})\n  }\n  draw ({ctx, canvas} = this.cv) {\n    let {pos: {x, y}, r} = this\n    ctx.fillStyle = `rgba(${this.color})`\n    ctx.beginPath()\n    ctx.arc(x, y, r, 0, 2*Math.PI)\n    ctx.closePath()\n    ctx.fill()\n  }\n}\n\nclass NeedleDotCanvas extends Canvas {\n  bgColor: string\n  data: Dot[]\n  constructor (bgColor: string | CanvasGradient = '#eaeaea') {\n    super (bgColor)\n    this.createDots()\n  }\n  // clrscr ({bgColor, canvas, ctx, windowH, windowW, data}: Canvas) {\n  //   ctx.fillStyle = `rgba(255, 255, 255, 0.25)`\n  //   ctx.fillRect(0, 0, windowW, windowH)\n  // }\n  createDots () {\n    let count = Math.floor(150*this.windowH*this.windowW/(1920*1080))\n    let data: Dot[] = this.data = new Array<Dot>(count)\n    for (let i = 0; i < count; i++) {\n      let pos = randPos(this)\n      data[i] = new Dot(pos, 1.62, [0xac, 0xbd, 0xce, 0.62], this)\n    }\n  }\n  renderMain ({canvas, ctx, windowH, windowW, data}: Canvas) {\n    let dThreshold = Math.sqrt(0.618*windowW*windowH/Math.PI)*22\n\n    ctx.lineWidth = 0.3\n    this.data.forEach((dot, idx) => {\n      // lines\n      this.data.slice(idx+1).forEach(anotherDot => {\n        let dsqr = ((dot.pos.x-anotherDot.pos.x)**2 + (dot.pos.y-anotherDot.pos.y)**2)\n        let a = (1 - dsqr/dThreshold)\n        if (a < 0) return\n        ctx.beginPath()\n        ctx.moveTo(dot.pos.x, dot.pos.y)\n        ctx.lineTo(anotherDot.pos.x, anotherDot.pos.y)\n        ctx.closePath()\n        ctx.strokeStyle = `rgba(50, 128, 255, ${a})`\n        ctx.stroke()\n      })\n      dot.draw()\n      dot.mutate()\n    })\n  }\n}\n\nexport function needleDot () {\n  let cv = new NeedleDotCanvas()\n\n  window.onresize = e => {\n    let target = e.target as (typeof window)\n    cv.canvas.height = target.innerHeight\n    cv.canvas.width = target.innerWidth\n  }\n\n  return cv\n}\n\n\n// WEBPACK FOOTER //\n// ./src/collection/needleDot.ts","import { TransferParam } from \"./others\";\n\n// 生成着色器方法，输入参数：渲染上下文，着色器类型，数据源\nexport function generateGLShader(\n  gl: WebGLRenderingContext,\n  type: number, source: string\n) {\n  let shader = gl.createShader(type); // 创建着色器对象\n  gl.shaderSource(shader, source); // 提供数据源\n  gl.compileShader(shader); // 编译 -> 生成着色器\n  let success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n  if (!success) {\n    let errString = String(gl.getShaderInfoLog(shader));\n    gl.deleteShader(shader);\n    throw Error(errString)\n  }\n  return shader as WebGLShader;\n}\n\n// 生成着色程序\nexport function generateGLProgram (\n  gl: WebGLRenderingContext,\n  vsSrc: string,\n  fsSrc: string\n) {\n  let program = gl.createProgram();\n\n  let vertexShader = generateGLShader(gl, gl.VERTEX_SHADER, vsSrc);\n  gl.attachShader(program, vertexShader);\n  \n  let fragmentShader = generateGLShader(gl, gl.FRAGMENT_SHADER, fsSrc);\n  gl.attachShader(program, fragmentShader);\n\n  gl.linkProgram(program);\n  let success = gl.getProgramParameter(program, gl.LINK_STATUS);\n  if (!success) {\n    let errString = String(gl.getProgramInfoLog(program));\n    gl.deleteProgram(program);\n    throw Error(errString)\n  }\n  return program; \n}\n\n// 从js数据传送到显存\nexport function jsArr2gRam (\n  gl: WebGLRenderingContext,\n  target: number,\n  buffer: WebGLBuffer | null, // this is gRam\n  data: Float32Array,\n  usage: number\n) {\n  gl.bindBuffer(target, buffer)\n  gl.bufferData(target, data, usage)\n}\n\n// 将着色程序中的属性指定到显存位置 (属性可以是已索引的，也可以提供着色程序和名称)\nexport interface PointerConfig {\n  size: number\n  type: number\n  normalize: boolean\n  stride: number\n  offset: number\n}\nexport function gRam2ShaderAttr (\n  gl: WebGLRenderingContext,\n  target: number,\n  buffer: WebGLBuffer | null,\n  attrIdx: number,\n  pointerConfig: PointerConfig\n): void\nexport function gRam2ShaderAttr (\n  gl: WebGLRenderingContext,\n  target: number,\n  buffer: WebGLBuffer | null,\n  attrName: string,\n  pointerConfig: PointerConfig,\n  program?: WebGLProgram | null\n): void\n\nexport function gRam2ShaderAttr (\n  gl: WebGLRenderingContext,\n  target: number,\n  buffer: WebGLBuffer | null,\n  attr: string | number,\n  pointerConfig: PointerConfig,\n  program?: WebGLProgram | null\n) {\n  let attrIdx: number\n\n  if (typeof attr === 'string') {\n    if (!program) throw Error('webgl program should be provided if attr is string')\n    attrIdx = gl.getAttribLocation(program, attr)\n  } else attrIdx = attr\n\n  let {size, type, normalize, stride, offset} = pointerConfig\n  gl.bindBuffer(target, buffer)\n  gl.vertexAttribPointer(attrIdx, size, type, normalize, stride, offset)\n  gl.enableVertexAttribArray(attrIdx)\n}\n\nexport class GLScene {\n  public programs: {[progName: string]: WebGLProgram} = {}\n  public canvas: HTMLCanvasElement\n  protected gl: WebGLRenderingContext\n  constructor () {\n    let canvas = document.getElementsByTagName('canvas')[0]\n    if (!canvas) throw Error('canvas not found')\n    let gl = canvas.getContext('webgl')\n    if (!gl) throw Error('get webgl context failed')\n\n    this.canvas = canvas\n    this.gl = gl\n  }\n  get windowW () { return this.canvas.width }\n  get windowH () { return this.canvas.height }\n  run () {}\n  destory () {}\n  onClick (e: MouseEvent) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/collection/utils/WebGL.ts","/**\n * 着色程序中，全局变量只能赋值常量，否则要把变量放置在main中（同C）\n * uniform类型变量，需要在gl.useProgram之后再传送值去显卡。\n */\n\nimport {GLScene, generateGLProgram, jsArr2gRam, gRam2ShaderAttr} from './utils/WebGL'\nimport { colorArray, TransferParam, randn_bm } from './utils/others'\nimport { normalize } from 'path';\n\nconst vsSrc = `\nuniform vec2 u_resolution;\nattribute vec2 a_position;\nattribute vec4 a_color;\nvarying vec4 v_color;\nvoid main() {\n  vec2 clip = a_position/u_resolution*2.0 - 1.0;\n  v_color = a_color;\n  gl_Position = vec4(clip, 0, 1);\n}\n`\n\nconst fsSrc = `\nprecision mediump float;\nvarying vec4 v_color;\nvoid main() {\n  gl_FragColor = v_color;\n}\n`\n\nconst {random} = Math\n\nclass GLDots extends GLScene {\n  public dotsData: number[] = []\n  constructor (public bgColor: colorArray = [0, 0, 0, 0], count = 500) {\n    super()\n    let {windowW, windowH, gl} = this\n    for (let i=0; i<count; i++) {\n      let x = randn_bm()*80 + windowW/2\n      let y = randn_bm()*80 + windowH/2\n      let rand3 = [1,2,3]\n      let color = [random(), random(), random(), 1.0]\n      let data = rand3.reduce((v: number[], _ignore) => {\n        return [...v, 5*random()+x, 5*random()+y, ...color]\n      }, [])\n      this.dotsData.push(...data)\n    }\n  }\n  run () {\n    let {gl, bgColor, windowW, windowH} = this\n    let [r, g, b, a] = bgColor\n    let program = generateGLProgram(gl, vsSrc, fsSrc)\n    let u_resolutionLoc = gl.getUniformLocation(program, 'u_resolution')\n    let positionsBuffer = gl.createBuffer()\n    let pointerConfig = {\n      size: 2,\n      type: gl.FLOAT,\n      normalize: false,\n      stride: 6*4,\n      offset: 0\n    }\n    \n    let data = new Float32Array(this.dotsData)\n    jsArr2gRam(gl, gl.ARRAY_BUFFER, positionsBuffer, data, gl.STATIC_DRAW)\n    gRam2ShaderAttr(gl, gl.ARRAY_BUFFER, positionsBuffer, 'a_position', pointerConfig, program)\n    pointerConfig.offset = 2*4\n    pointerConfig.size = 4\n    gRam2ShaderAttr(gl, gl.ARRAY_BUFFER, positionsBuffer, 'a_color', pointerConfig, program)\n\n\n    // draw\n    gl.viewport(0, 0, windowW, windowH)\n    gl.useProgram(program)\n    gl.uniform2f(u_resolutionLoc, windowW, windowH)\n    gl.clearColor(r, g, b, a)\n    gl.clear(gl.COLOR_BUFFER_BIT)\n    gl.drawArrays(gl.TRIANGLES, 0, data.length/6)\n  }\n}\n\nexport function glslTest () {\n  let scene = new GLDots()\n\n  window.onresize = e => {\n    let target = e.target as (typeof window)\n    scene.canvas.height = target.innerHeight\n    scene.canvas.width = target.innerWidth\n  }\n\n  return scene\n}\n\n\n// WEBPACK FOOTER //\n// ./src/collection/glslTest.ts","import { Canvas } from \"./utils/Canvas\"\nimport { ParticleLike, makeLinearGradient, applyGravity, rebound, move, randn_bm, earthFricion } from \"./utils/others\"\n\nclass Donut {\n  isSlow: boolean\n  isDead: boolean\n  constructor (\n    public pos: ParticleLike['pos'],\n    public dir: ParticleLike['dir'],\n    public r: number,\n    public thickness: number,\n    public color: number[],\n    private cv: Canvas,\n  ) {\n    this.isSlow = false\n    this.isDead = false\n  }\n  mutate () {\n    let {pos, dir} = this\n    applyGravity(this, this.cv)\n    move(this, true)\n\n    let {windowW, windowH} = this.cv\n    let bottom: number\n    if (this.isSlow) bottom = windowH\n    else bottom = windowH*0.9\n    rebound(\n      this,\n      {top: -Infinity, bottom, left: 0, right: windowW}\n    ) \n    earthFricion(this, this.r*0.05, bottom)\n\n    this.fade()\n  }\n  draw ({ctx, canvas} = this.cv) {\n    let {pos: {x, y}, r, thickness} = this\n    ctx.strokeStyle = `rgba(${this.color})`\n    ctx.lineWidth = thickness\n    ctx.beginPath()\n    ctx.arc(x, y, r, 0, 2*Math.PI)\n    ctx.closePath()\n    ctx.stroke()\n    this.mutate()\n  }\n  markIfSlow () {\n    let {vx, vy} = this.dir\n    if (Math.abs(vx) < 0.5 && Math.abs(vy) < 0.5) this.isSlow = true\n  }\n  fade () {\n    if (!this.isSlow) {\n      this.markIfSlow()\n      return\n    }\n    let [r, g, b, a] = this.color\n    if (a < 1/255) { this.isDead = true }\n    this.color = [r, g, b, a*0.9]\n  }\n}\n\nfunction isValid (arr: any[]) {\n  for(let m of arr) {\n    if (m) return true\n  }\n  return false\n}\nclass ColorfulDonut extends Canvas {\n  public data: Set<Donut[]> = new Set()\n  // public step: number = 0\n  constructor (public bgColor: string | CanvasGradient = \"#eacdae\") {\n    super(bgColor)\n  }\n  renderMain ({canvas, ctx, windowH, windowW, data}: Canvas = this) {\n    this.data.forEach(dataGroup => {\n      if (!isValid(dataGroup)) {\n        this.data.delete(dataGroup)\n        return\n      }\n      dataGroup.forEach((donut, idx) => {\n      // if (idx > this.step) return\n      if (!donut) return\n      if (donut.isDead) {\n        delete dataGroup[idx]\n        return\n      }\n      donut.draw()\n      })\n    })\n  }\n  \n  addData (x?: number, y?: number) {\n    let {windowH, windowW} = this\n    let count = windowH * windowW / (1920*1080) * 30\n    let ret = []\n    for (let i = 0; i < count; i++) {\n      let randColor = [255, 255, 255].map(c => Math.floor(c * Math.random()))\n      let r: number = 0\n      while (r < 5) r = Math.abs(randn_bm() * 5 + 10)\n      ret.push(new Donut(\n        // careful, **DO NOT USE** `pos` as an object,\n        // or all particle will act on the same pos object\n        {x: x || windowW/2, y: y || windowH*0.618},\n        {vx: randn_bm()*10, vy: -Math.abs(randn_bm()*25)},\n        r, Math.abs(randn_bm()*3.1+3.1),\n        [...randColor, 1.0], \n        this\n      ))\n    }\n    this.data.add(ret)\n  }\n  onClick (e: MouseEvent) {\n    let {x, y} = e\n    this.addData(x, y)\n  }\n}\n\nexport function colorfulDonut () {\n  let cv = new ColorfulDonut()\n  let {windowH} = cv\n  let colorInfoArr = [\n    {offset: 0.0, color: '#eacdae'},\n    {offset: 0.9, color: '#fefeef'},\n    {offset: 0.909, color: '#777'},\n    {offset: 0.91, color: '#eacdae'},\n    {offset: 1.0, color: '#eacdae'}\n  ]\n  let gradientOption = {\n    x0: 0, y0: 0,\n    x1: 0, y1: windowH,\n    colorInfoArr\n  }\n  cv.bgColor = makeLinearGradient(cv.ctx, gradientOption)\n  cv.addData()\n\n  window.onresize = e => {\n    let target = e.target as (typeof window)\n    cv.canvas.height = target.innerHeight\n    cv.canvas.width = target.innerWidth\n  }\n\n  return cv\n}\n\n\n// WEBPACK FOOTER //\n// ./src/collection/colorfulDonut.ts","import Vue from 'vue'\nimport * as util from 'util'\nimport { Canvas } from '../collection/utils/Canvas'\nimport { GLScene } from '../collection/utils/WebGL';\n\nexport function makeCanvas(script: () => Canvas | GLScene) {\n  return Vue.extend({\n    name: 'vue-canvas',\n    computed: {\n      cv () { return script() }\n    },\n    mounted () {\n      this.cv.run()\n    },\n    destroyed () {\n      this.cv.destory()\n    },\n    render () {\n      let height = window.innerHeight\n      let width = window.innerWidth\n      let style = {position: 'fixed', top: 0, left: 0, 'z-index': -1}\n      // when below is running, this.cv in computed is not calculated.\n      let handleClick = (e: MouseEvent) => this.cv.onClick(e)\n      return (<canvas \n        onClick={handleClick}\n        height={height}\n        width={width}\n        style={style}>\n        canvas is not support\n      </canvas>)\n    }\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/vue-canvas.tsx","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9c02a1a2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.ts.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!ts-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.ts.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9c02a1a2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.ts.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.ts.vue\n// module id = null\n// module chunks = ","import VueRouter from 'vue-router'\nimport * as scripts from './collection'\nimport {makeCanvas} from './components/vue-canvas'\nimport { defaultCanvas } from './collection/utils/Canvas'\n\nexport const links: string[] = []\nconst routes = Object.entries(scripts).map(([scriptName, script]) => {\n  let path = `/${scriptName}`\n  let component = makeCanvas(script)\n  links.push(scriptName)\n  return {path, component} \n})\nroutes.push({\n  path: '/',\n  component: makeCanvas(defaultCanvas)\n})\n\nexport const router = new VueRouter({\n  routes,\n  mode: 'history'\n})\n\n\n// WEBPACK FOOTER //\n// ./src/router.ts","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport {makeCanvas} from './components/vue-canvas'\nimport {router, links} from './router'\nimport VueRouter from 'vue-router'\n\nVue.use(VueRouter)\n\nexport default Vue.extend({\n  name: 'app',\n  data () {\n    return {\n      links\n    }\n  },\n  router\n})\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.ts.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"menu-container\"},_vm._l((_vm.links),function(link){return _c('router-link',{key:link,staticClass:\"script-link\",attrs:{\"to\":link}},[_c('span',[_vm._v(_vm._s(link))])])})),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9c02a1a2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.ts.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App.ts.vue'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":""}